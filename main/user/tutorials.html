

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-88158104-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-88158104-1');
    </script>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tutorials &mdash; WEC-Sim  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=5ea88473" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Code Structure" href="code_structure.html" />
    <link rel="prev" title="Workflow" href="workflow.html" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BSPTGP3DXP"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-BSPTGP3DXP');
    </script>
    <jinja2.runtime.BlockReference object at 0x7f6b29d97100>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            WEC-Sim
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../theory/index.html">Theory Manual</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflow.html">Workflow</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Tutorials</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#two-body-point-absorber-rm3">Two-Body Point Absorber (RM3)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#device-geometry">Device Geometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="#model-files">Model Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rm3-tutorial">RM3 Tutorial</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#oscillating-surge-wec-oswec">Oscillating Surge WEC (OSWEC)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#user-tutorials-oswec-device-geometry">Device Geometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-tutorials-oswec-model-files">Model Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#oswec-tutorial">OSWEC Tutorial</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#wec-sim-examples">WEC-Sim Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="code_structure.html">Code Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced_features.html">Advanced Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="applications.html">WEC-Sim Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="webinars.html">Training Materials</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html">API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../most/index.html">MOST Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Manual</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">WEC-Sim</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">User Manual</a></li>
      <li class="breadcrumb-item active">Tutorials</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/user/tutorials.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             


  <section id="tutorials">
<span id="user-tutorials"></span><h1>Tutorials<a class="headerlink" href="#tutorials" title="Link to this heading"></a></h1>
<p>This section provides step-by-step instructions on how to set-up and run the WEC-Sim code
using the provided Tutorials (located in the WEC-Sim <code class="docutils literal notranslate"><span class="pre">$WECSIM/tutorials</span></code>
directory). Two WEC-Sim tutorials are provided: the Two-Body Point Absorber
(RM3), and the Oscillating Surge WEC (OSWEC).
For cases that are already set-up and ready to run, see Step 3 of <a class="reference internal" href="getting_started.html#user-install"><span class="std std-ref">Install WEC-Sim</span></a>.</p>
<p>For information about the implementation of the WEC-Sim code refer to the
<a class="reference internal" href="code_structure.html#user-code-structure"><span class="std std-ref">Code Structure</span></a> section.
For information about additional WEC-Sim
features, refer to <a class="reference internal" href="advanced_features.html#user-advanced-features"><span class="std std-ref">Advanced Features</span></a>.</p>
<section id="two-body-point-absorber-rm3">
<span id="user-tutorials-rm3"></span><h2>Two-Body Point Absorber (RM3)<a class="headerlink" href="#two-body-point-absorber-rm3" title="Link to this heading"></a></h2>
<p>This section describes the application of the WEC-Sim code to model the
Reference Model 3 (RM3) two-body point absorber WEC. This tutorial is provided
in the WEC-Sim code release in the <code class="docutils literal notranslate"><span class="pre">$WECSIM/tutorials</span></code> directory.</p>
<section id="device-geometry">
<span id="user-tutorials-rm3-device-geometry"></span><h3>Device Geometry<a class="headerlink" href="#device-geometry" title="Link to this heading"></a></h3>
<p>The RM3 two-body point absorber WEC has been characterized both numerically and
experimentally as a result of the DOE-funded <a class="reference external" href="http://energy.sandia.gov/rmp">Reference Model Project</a>. The RM3 is a two-body point absorber
consisting of a float and a reaction plate. Full-scale dimensions and mass
properties of the RM3 are shown below.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/RM3_Geom.png"><img alt="../_images/RM3_Geom.png" src="../_images/RM3_Geom.png" style="width: 300pt;" />
</a>
</figure>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Body</p></th>
<th class="head"><p>Mass (tonne)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Float</p></td>
<td><p>727.01</p></td>
</tr>
<tr class="row-odd"><td><p>Plate</p></td>
<td><p>878.30</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Body</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Center of Gravity* (m)</p></th>
<th class="head" colspan="3"><p>Inertia Tensor (kg m^2)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="3"><p>Float</p></td>
<td><p>x</p></td>
<td><p>0</p></td>
<td><p>20,907,301</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>y</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>21,306,091</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>z</p></td>
<td><p>-0.72</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>37,085,481</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>Plate</p></td>
<td><p>x</p></td>
<td><p>0</p></td>
<td><p>94,419,615</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>y</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>94,407,091</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>z</p></td>
<td><p>-21.29</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>28,542,225</p></td>
</tr>
</tbody>
</table>
<p><strong>* The origin lies at the undisturbed free surface (SWL)</strong></p>
</section>
<section id="model-files">
<span id="user-tutorials-rm3-model-files"></span><h3>Model Files<a class="headerlink" href="#model-files" title="Link to this heading"></a></h3>
<p>Below is an overview of the files required to run the RM3 simulation in
WEC-Sim. For the RM3 WEC, there are two corresponding geometry files:
<code class="docutils literal notranslate"><span class="pre">float.stl</span></code> and <code class="docutils literal notranslate"><span class="pre">plate.stl</span></code>. In addition to the required files listed
below, users may supply a <code class="docutils literal notranslate"><span class="pre">userDefinedFunctions.m</span></code> file for post-processing
results once the WEC-Sim run is complete.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>File Type</strong></p></td>
<td><p><strong>File Name</strong></p></td>
<td><p><strong>Directory</strong></p></td>
</tr>
<tr class="row-even"><td><p>Input File</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">wecSimInputFile.m</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$WECSIM/tutorials/rm3/</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Simulink Model</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">rm3.slx</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$WECSIM/tutorials/rm3/</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Hydrodynamic Data</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">rm3.h5</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$WECSIM/tutorials/rm3/hydroData/</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Geometry Files</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float.stl</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">plate.stl</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$WECSIM/tutorials/rm3/geometry/</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="rm3-tutorial">
<h3>RM3 Tutorial<a class="headerlink" href="#rm3-tutorial" title="Link to this heading"></a></h3>
<section id="step-1-run-bemio">
<span id="user-tutorials-rm3-step-one"></span><h4>Step 1: Run BEMIO<a class="headerlink" href="#step-1-run-bemio" title="Link to this heading"></a></h4>
<p>Hydrodynamic data for each RM3 body must be parsed into a HDF5 file using
<a class="reference internal" href="advanced_features.html#user-advanced-features-bemio"><span class="std std-ref">BEMIO</span></a>. BEMIO converts hydrodynamic data from
WAMIT, NEMOH, Aqwa, or Capytaine into a HDF5 file, <code class="docutils literal notranslate"><span class="pre">*.h5</span></code> that is then read by WEC-Sim.
The RM3 tutorial includes data from a WAMIT run, <code class="docutils literal notranslate"><span class="pre">rm3.out</span></code>, of the RM3
geometry in the <code class="docutils literal notranslate"><span class="pre">$WECSIM/tutorials/rm3/hydroData/</span></code> directory. The RM3 WAMIT
<code class="docutils literal notranslate"><span class="pre">rm3.out</span></code> file and the BEMIO <code class="docutils literal notranslate"><span class="pre">bemio.m</span></code> script are then used to generate the
<code class="docutils literal notranslate"><span class="pre">rm3.h5</span></code> file.</p>
<p>This is done by navigating to the <code class="docutils literal notranslate"><span class="pre">$WECSIM/tutorials/rm3/hydroData/</span></code>
directory, and typing``bemio`` in the MATLAB Command Window:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;</span> <span class="n">bemio</span>
</pre></div>
</div>
</section>
<section id="step-2-build-simulink-model">
<span id="user-tutorials-rm3-step-two"></span><h4>Step 2: Build Simulink Model<a class="headerlink" href="#step-2-build-simulink-model" title="Link to this heading"></a></h4>
<p>The WEC-Sim Simulink model is created by dragging and dropping blocks from the
<em>WEC-Sim Library</em> into the <code class="docutils literal notranslate"><span class="pre">rm3.slx</span></code> file. When setting up a WEC-Sim model,
it is very important to note the base and follower frames. The base port should
always connect ‘towards’ the Global Reference Frame, while the follower port
connects ‘away’ from the reference frame. Also, a base port should always
connect to a follower port. The same port type should not be connected (i.e. no
base-base or follower-follower connections).</p>
<ul class="simple">
<li><p>Place two <strong>Rigid Body</strong> blocks from <em>Body Elements</em> in <em>WEC-Sim Library</em> in
the Simulink model file, one for each RM3 rigid body.</p></li>
<li><p>Double click on the <strong>Rigid Body</strong> block, and rename each instance of the
body. The first body must be called <code class="docutils literal notranslate"><span class="pre">body(1)</span></code>, and the second body should be
called <code class="docutils literal notranslate"><span class="pre">body(2)</span></code>.</p></li>
</ul>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/RM3_WECSim_Body.jpg"><img alt="../_images/RM3_WECSim_Body.jpg" src="../_images/RM3_WECSim_Body.jpg" style="width: 400pt;" />
</a>
</figure>
<ul class="simple">
<li><p>Place the <strong>Global Reference Frame</strong> from <em>Frames</em> in the <em>WEC-Sim Library</em>
in the Simulink model file. The global reference frame acts as the seabed.</p></li>
</ul>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/RM3_WECSim_GlobalRef.jpg"><img alt="../_images/RM3_WECSim_GlobalRef.jpg" src="../_images/RM3_WECSim_GlobalRef.jpg" style="width: 400pt;" />
</a>
</figure>
<ul class="simple">
<li><p>Place the <strong>Floating (3DOF)</strong> block from <em>Constrains</em> to connect the plate to
the seabed. This constrains the plate to move in 3DOF relative to the <strong>Global
Reference Frame</strong>.</p></li>
<li><p>Place the <strong>Translational PTO</strong> block from <em>PTOs</em> to connect the float to the
spar. This constrains the float to move in heave relative to the spar, and
allows definition of PTO damping.</p></li>
</ul>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/RM3_WECSim.JPG"><img alt="../_images/RM3_WECSim.JPG" src="../_images/RM3_WECSim.JPG" style="width: 400pt;" />
</a>
</figure>
</section>
<section id="step-3-write-wecsiminputfile-m">
<span id="user-tutorials-rm3-step-three"></span><h4>Step 3: Write wecSimInputFile.m<a class="headerlink" href="#step-3-write-wecsiminputfile-m" title="Link to this heading"></a></h4>
<p>The WEC-Sim input file defines simulation parameters, body properties, joints,
and mooring for the RM3 model. The <code class="docutils literal notranslate"><span class="pre">wecSimInputFile.m</span></code> for the RM3 is
provided in the RM3 case directory, and shown below.</p>
<p>New users should manually write the wecSimInputFile.m to become familiar with
the set-up parameters and the files being called in a basic WEC-Sim run. First,
define the simulation parameters. Initialize an instance of the
simulationClass. Define the simulink file to use, the start, ramp and end
times, and the time step required. The simulation class also controls all
relevant numerical options and simulation-wide parameters in a single
convenient class.</p>
<p>Next set-up the type of incoming wave by instantiating the waveClass. ‘Regular’
is a sinusoidal wave and the easiest to start with. Define an appropriate wave
height and period. Waves can also be an irregular spectrum, imported by
elevation or spectrum, or multidirectional.</p>
<p>Third, define all bodies, PTOs and constraints present in the simulink file.
There are distinct classes for bodies, PTOs and constraints that contain
different properties and function differently. Bodies are hydrodynamic and
contain mass and geometry properties. Initialize bodies by calling the
bodyClass and the path to the relevant h5 file. Set the path to the geometry
file, and define the body’s mass properties. PTOs and constraints are more
simple and contain forces and power dissipation (in the constraint) that limit
the WEC’s motion. PTOs and constraints can be set by calling the appropriate
class with the Simulink block name. Set the location and any PTO damping or
stiffness desired.</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="c">%% Simulation Data</span>
<span class="n">simu</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">simulationClass</span><span class="p">();</span><span class="w">                       </span><span class="c">% Initialize simulationClass</span>
<span class="n">simu</span><span class="p">.</span><span class="n">simMechanicsFile</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;RM3.slx&#39;</span><span class="p">;</span><span class="w">              </span><span class="c">% Simulink Model File</span>
<span class="n">simu</span><span class="p">.</span><span class="n">startTime</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">                             </span><span class="c">% Simulation Start Time [s]</span>
<span class="n">simu</span><span class="p">.</span><span class="n">rampTime</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span><span class="w">                         	</span><span class="c">% Wave Ramp Time [s]</span>
<span class="n">simu</span><span class="p">.</span><span class="n">endTime</span><span class="p">=</span><span class="mi">400</span><span class="p">;</span><span class="w">                               </span><span class="c">% Simulation End Time [s]</span>
<span class="n">simu</span><span class="p">.</span><span class="n">dt</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mf">0.1</span><span class="p">;</span><span class="w">                                  </span><span class="c">% Simulation time-step [s]</span>

<span class="c">%% Wave Information  </span>
<span class="c">% Regular Waves </span>
<span class="n">waves</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">waveClass</span><span class="p">(</span><span class="s">&#39;regular&#39;</span><span class="p">);</span><span class="w">                   </span><span class="c">% Initialize waveClass</span>
<span class="n">waves</span><span class="p">.</span><span class="n">height</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mf">2.5</span><span class="p">;</span><span class="w">                                  </span><span class="c">% Wave Height [m]</span>
<span class="n">waves</span><span class="p">.</span><span class="n">period</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span><span class="w">                                    </span><span class="c">% Wave Period [s]</span>

<span class="c">%% Body Data</span>
<span class="c">% Float</span>
<span class="n">body</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">bodyClass</span><span class="p">(</span><span class="s">&#39;hydroData/rm3.h5&#39;</span><span class="p">);</span><span class="w">        </span><span class="c">% Initialize bodyClass for Float</span>
<span class="n">body</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">geometryFile</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;geometry/float.stl&#39;</span><span class="p">;</span><span class="w">    </span><span class="c">% Geometry File</span>
<span class="n">body</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">mass</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;equilibrium&#39;</span><span class="p">;</span><span class="w">                   </span><span class="c">% Mass [kg]</span>
<span class="n">body</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">inertia</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="mi">20907301</span><span class="w"> </span><span class="mf">21306090.66</span><span class="w"> </span><span class="mf">37085481.11</span><span class="p">];</span><span class="w">  </span><span class="c">% Moment of Inertia [kg*m^2]     </span>

<span class="c">% Spar/Plate</span>
<span class="n">body</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">bodyClass</span><span class="p">(</span><span class="s">&#39;hydroData/rm3.h5&#39;</span><span class="p">);</span><span class="w">        </span><span class="c">% Initialize bodyClass for Spar</span>
<span class="n">body</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="n">geometryFile</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;geometry/plate.stl&#39;</span><span class="p">;</span><span class="w">    </span><span class="c">% Geometry File</span>
<span class="n">body</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="n">mass</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;equilibrium&#39;</span><span class="p">;</span><span class="w">                   </span><span class="c">% Mass [kg]</span>
<span class="n">body</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="n">inertia</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="mf">94419614.57</span><span class="w"> </span><span class="mf">94407091.24</span><span class="w"> </span><span class="mf">28542224.82</span><span class="p">];</span><span class="w"> </span><span class="c">% Moment of Inertia [kg*m^2]</span>

<span class="c">%% PTO and Constraint Parameters</span>
<span class="c">% Floating (3DOF) Joint</span>
<span class="n">constraint</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">constraintClass</span><span class="p">(</span><span class="s">&#39;Constraint1&#39;</span><span class="p">);</span><span class="w"> </span><span class="c">% Initialize constraintClass for Constraint1</span>
<span class="n">constraint</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">location</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="p">];</span><span class="w">                    </span><span class="c">% Constraint Location [m]</span>

<span class="c">% Translational PTO</span>
<span class="n">pto</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">ptoClass</span><span class="p">(</span><span class="s">&#39;PTO1&#39;</span><span class="p">);</span><span class="w">                      </span><span class="c">% Initialize ptoClass for PTO1</span>
<span class="n">pto</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">stiffness</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">                                   </span><span class="c">% PTO Stiffness [N/m]</span>
<span class="n">pto</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">damping</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1200000</span><span class="p">;</span><span class="w">                             </span><span class="c">% PTO Damping [N/(m/s)]</span>
<span class="n">pto</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">location</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="p">];</span><span class="w">                           </span><span class="c">% PTO Location [m]</span>
</pre></div>
</div>
</section>
<section id="step-4-run-wec-sim">
<span id="user-tutorials-rm3-step-four"></span><h4>Step 4: Run WEC-Sim<a class="headerlink" href="#step-4-run-wec-sim" title="Link to this heading"></a></h4>
<p>To execute the WEC-Sim code for the RM3 tutorial, type <code class="docutils literal notranslate"><span class="pre">wecSim</span></code> into the
MATLAB Command Window. Below is a figure showing the final RM3 Simulink model
and the WEC-Sim GUI during the simulation. For more information on using
WEC-Sim to model the RM3 device, refer to <span id="id1">[<a class="reference internal" href="#id12" title="K. Ruehl, C. Michelen, S. Kanner, M. Lawson, and Y. Yu. Preliminary Verification and Validation of WEC-Sim, an Open-Source Wave Energy Converter Design Tool. In Proceedings of OMAE 2014. San Francisco, CA, 2014.">A1</a>]</span>.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/RM3_WECSim_GUI.JPG"><img alt="../_images/RM3_WECSim_GUI.JPG" src="../_images/RM3_WECSim_GUI.JPG" style="width: 400pt;" />
</a>
</figure>
</section>
<section id="step-5-post-processing">
<span id="user-tutorials-rm3-step-five"></span><h4>Step 5: Post-processing<a class="headerlink" href="#step-5-post-processing" title="Link to this heading"></a></h4>
<p>The RM3 tutorial includes a <code class="docutils literal notranslate"><span class="pre">userDefinedFunctions.m</span></code> which plots RM3
forces and responses. This file can be modified by users for
post-processing. Additionally, once the WEC-Sim run is complete, the
WEC-Sim results are saved to the <code class="docutils literal notranslate"><span class="pre">output</span></code> variable in the MATLAB
workspace.</p>
</section>
</section>
</section>
<section id="oscillating-surge-wec-oswec">
<span id="user-tutorials-oswec"></span><h2>Oscillating Surge WEC (OSWEC)<a class="headerlink" href="#oscillating-surge-wec-oswec" title="Link to this heading"></a></h2>
<p>This section describes the application of the WEC-Sim code to model the
Oscillating Surge WEC (OSWEC). This tutorial is provided in the WEC-Sim
code release in the <code class="docutils literal notranslate"><span class="pre">$WECSIM/tutorials</span></code> directory.</p>
<section id="user-tutorials-oswec-device-geometry">
<span id="id2"></span><h3>Device Geometry<a class="headerlink" href="#user-tutorials-oswec-device-geometry" title="Link to this heading"></a></h3>
<p>The OSWEC was selected because its design is fundamentally different from the
RM3. This is critical because WECs span an extensive design space, and it is
important to model devices in WEC-Sim that operate under different principles.
The OSWEC is fixed to the ground and has a flap that is connected through a
hinge to the base that restricts the flap in order to pitch about the hinge.
The full-scale dimensions and mass properties of the OSWEC are shown below.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/OSWEC_Geom.png"><img alt="../_images/OSWEC_Geom.png" src="../_images/OSWEC_Geom.png" style="width: 600pt;" />
</a>
</figure>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Body</p></th>
<th class="head"><p>Mass (tonne)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Flap</p></td>
<td><p>127</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Body</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Center of Gravity* (m)</p></th>
<th class="head" colspan="3"><p>Moment of Inertia Tensor (kg m^2)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="3"><p>Flap</p></td>
<td><p>x</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>y</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>1,850,000</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>z</p></td>
<td><p>-3.9</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The global frame lies at the undisturbed free surface. The body-fixed frame is at the center of gravity. Since the OSWEC is modeled as a pitch device, only the Iyy Moment of Inertia has been defined.</p>
</div>
</section>
<section id="user-tutorials-oswec-model-files">
<span id="id3"></span><h3>Model Files<a class="headerlink" href="#user-tutorials-oswec-model-files" title="Link to this heading"></a></h3>
<p>Below is an overview of the files required to run the OSWEC simulation in
WEC-Sim. For the OSWEC, there are two corresponding geometry files:
<code class="docutils literal notranslate"><span class="pre">flap.stl</span></code> and <code class="docutils literal notranslate"><span class="pre">base.stl</span></code>. In addition to the required files listed below,
users may supply a <code class="docutils literal notranslate"><span class="pre">userDefinedFunctions.m</span></code> file for post-processing results
once the WEC-Sim run is complete.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>File Type</strong></p></td>
<td><p><strong>File Name</strong></p></td>
<td><p><strong>Directory</strong></p></td>
</tr>
<tr class="row-even"><td><p>Input File</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">wecSimInputFile.m</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$WECSIM/tutorials/oswec/</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Simulink Model</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">oswec.slx</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$WECSIM/tutorials/oswec/</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Hydrodynamic Data</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">oswec.h5</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$WECSIM/tutorials/oswec/hydroData/</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Geometry Files</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flap.stl</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">base.stl</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$WECSIM/tutorials/oswec/geometry/</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="oswec-tutorial">
<h3>OSWEC Tutorial<a class="headerlink" href="#oswec-tutorial" title="Link to this heading"></a></h3>
<section id="user-tutorials-oswec-step-one">
<span id="id4"></span><h4>Step 1: Run BEMIO<a class="headerlink" href="#user-tutorials-oswec-step-one" title="Link to this heading"></a></h4>
<p>Hydrodynamic data for each OSWEC body must be parsed into a HDF5 file using
<a class="reference internal" href="advanced_features.html#user-advanced-features-bemio"><span class="std std-ref">BEMIO</span></a>. BEMIO converts hydrodynamic data from
WAMIT, NEMOH, Aqwa, or Capytaine into a HDF5 file, <code class="docutils literal notranslate"><span class="pre">*.h5</span></code> that is then read by WEC-Sim.
The OSWEC tutorial includes data from a WAMIT run, <code class="docutils literal notranslate"><span class="pre">oswec.out</span></code>, of the OSWEC
geometry in the <code class="docutils literal notranslate"><span class="pre">$WECSIM/tutorials/rm3/hydroData/</span></code> directory. The OSWEC WAMIT
<code class="docutils literal notranslate"><span class="pre">oswec.out</span></code> file and the BEMIO <code class="docutils literal notranslate"><span class="pre">bemio.m</span></code> script are then used to generate
the <code class="docutils literal notranslate"><span class="pre">oswec.h5</span></code> file.</p>
<p>This is done by navigating to the <code class="docutils literal notranslate"><span class="pre">$WECSIM/tutorials/oswec/hydroData/</span></code>
directory, and typing``bemio`` in the MATLAB Command Window:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;</span> <span class="n">bemio</span>
</pre></div>
</div>
</section>
<section id="user-tutorials-oswec-step-two">
<span id="id5"></span><h4>Step 2: Build Simulink Model<a class="headerlink" href="#user-tutorials-oswec-step-two" title="Link to this heading"></a></h4>
<p>The WEC-Sim Simulink model is created by dragging and dropping blocks from the
<em>WEC-Sim Library</em> into the <code class="docutils literal notranslate"><span class="pre">oswec.slx</span></code> file.</p>
<ul class="simple">
<li><p>Place two <strong>Rigid Body</strong> blocks from the <em>WEC-Sim Library</em> in the Simulink
model file, one for each OSWEC rigid body.</p></li>
<li><p>Double click on the <strong>Rigid Body</strong> block, and rename each instance of the
body. The first body must be called <code class="docutils literal notranslate"><span class="pre">body(1)</span></code>, and the second body should be
called <code class="docutils literal notranslate"><span class="pre">body(2)</span></code>.</p></li>
</ul>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/OSWEC_WECSim_Body.jpg"><img alt="../_images/OSWEC_WECSim_Body.jpg" src="../_images/OSWEC_WECSim_Body.jpg" style="width: 400pt;" />
</a>
</figure>
<ul class="simple">
<li><p>Place the <strong>Global Reference Frame</strong> from <em>Frames</em> in the <em>WEC-Sim Library</em>
in the Simulink model file. The global reference frame acts as the seabed.</p></li>
</ul>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/OSWEC_WECSim_GlobalRef.jpg"><img alt="../_images/OSWEC_WECSim_GlobalRef.jpg" src="../_images/OSWEC_WECSim_GlobalRef.jpg" style="width: 400pt;" />
</a>
</figure>
<ul class="simple">
<li><p>Place the <strong>Fixed</strong> block from <em>Constraints</em> to connect the base to the
seabed. This constrains the base to be fixed relative to the <strong>Global Reference
Frame</strong>.</p></li>
<li><p>Place a <strong>Rotational PTO</strong> block to connect the base to the flap. This
constrains the flap to move in pitch relative to the base, and allows for the
definition of PTO damping.</p></li>
</ul>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/OSWEC_WECSim.JPG"><img alt="../_images/OSWEC_WECSim.JPG" src="../_images/OSWEC_WECSim.JPG" style="width: 400pt;" />
</a>
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When setting up a WEC-Sim model, it is very important to note the base and
follower frames.</p>
</div>
</section>
<section id="user-tutorials-oswec-step-three">
<span id="id6"></span><h4>Step 3: Write wecSimInputFile.m<a class="headerlink" href="#user-tutorials-oswec-step-three" title="Link to this heading"></a></h4>
<p>The WEC-Sim input file defines simulation parameters, body properties, and
joints for the OSWEC model. Writing the OSWEC input file is similar to writing
the RM3 input. Try writing it on your own. Define the simulation class, wave
class, bodies, constraints and PTOs. The <code class="docutils literal notranslate"><span class="pre">wecSimInputFile.m</span></code> for the OSWEC is
provided in the OSWEC case directory, and shown below.</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="c">%% Simulation Data</span>
<span class="n">simu</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">simulationClass</span><span class="p">();</span><span class="w">                       </span><span class="c">% Initialize simulationClass</span>
<span class="n">simu</span><span class="p">.</span><span class="n">simMechanicsFile</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;OSWEC.slx&#39;</span><span class="p">;</span><span class="w">            </span><span class="c">% Simulink Model File</span>
<span class="n">simu</span><span class="p">.</span><span class="n">startTime</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">                             </span><span class="c">% Simulation Start Time [s]</span>
<span class="n">simu</span><span class="p">.</span><span class="n">rampTime</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span><span class="w">                            </span><span class="c">% Wave Ramp Time [s]</span>
<span class="n">simu</span><span class="p">.</span><span class="n">endTime</span><span class="p">=</span><span class="mi">400</span><span class="p">;</span><span class="w">                               </span><span class="c">% Simulation End Time [s]   </span>
<span class="n">simu</span><span class="p">.</span><span class="n">dt</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mf">0.1</span><span class="p">;</span><span class="w">                                  </span><span class="c">% Simulation Time-Step [s]</span>

<span class="c">%% Wave Information</span>
<span class="c">% Regular Waves </span>
<span class="n">waves</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">waveClass</span><span class="p">(</span><span class="s">&#39;regular&#39;</span><span class="p">);</span><span class="w">                   </span><span class="c">% Initialize waveClass                                 </span>
<span class="n">waves</span><span class="p">.</span><span class="n">height</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mf">2.5</span><span class="p">;</span><span class="w">                                  </span><span class="c">% Wave Height [m]</span>
<span class="n">waves</span><span class="p">.</span><span class="n">period</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span><span class="w">                                    </span><span class="c">% Wave Period [s]</span>

<span class="c">%% Body Data</span>
<span class="c">% Flap</span>
<span class="n">body</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">bodyClass</span><span class="p">(</span><span class="s">&#39;hydroData/oswec.h5&#39;</span><span class="p">);</span><span class="w">      </span><span class="c">% Initialize bodyClass for Flap </span>
<span class="n">body</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">geometryFile</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;geometry/flap.stl&#39;</span><span class="p">;</span><span class="w">     </span><span class="c">% Geometry File</span>
<span class="n">body</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">mass</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">127000</span><span class="p">;</span><span class="w">                          </span><span class="c">% Mass [kg]</span>
<span class="n">body</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">inertia</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="mf">1.85e6</span><span class="w"> </span><span class="mf">1.85e6</span><span class="w"> </span><span class="mf">1.85e6</span><span class="p">];</span><span class="w">  </span><span class="c">% Moment of Inertia [kg-m^2]</span>

<span class="c">% Base</span>
<span class="n">body</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">bodyClass</span><span class="p">(</span><span class="s">&#39;hydroData/oswec.h5&#39;</span><span class="p">);</span><span class="w">      </span><span class="c">% Initialize bodyClass for Base</span>
<span class="n">body</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="n">geometryFile</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;geometry/base.stl&#39;</span><span class="p">;</span><span class="w">     </span><span class="c">% Geometry File</span>
<span class="n">body</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="n">mass</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">999</span><span class="p">;</span><span class="w">                             </span><span class="c">% Fixed Body Mass</span>
<span class="n">body</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="n">inertia</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="mi">999</span><span class="w"> </span><span class="mi">999</span><span class="w"> </span><span class="mi">999</span><span class="p">];</span><span class="w">                </span><span class="c">% Fixed Body Inertia</span>

<span class="c">%% PTO and Constraint Parameters</span>
<span class="c">% Fixed</span>
<span class="n">constraint</span><span class="p">(</span><span class="mi">1</span><span class="p">)=</span><span class="w"> </span><span class="n">constraintClass</span><span class="p">(</span><span class="s">&#39;Constraint1&#39;</span><span class="p">);</span><span class="w">  </span><span class="c">% Initialize constraintClass for Constraint1</span>
<span class="n">constraint</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">location</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="p">];</span><span class="w">                  </span><span class="c">% Constraint Location [m]</span>

<span class="c">% Rotational PTO</span>
<span class="n">pto</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">ptoClass</span><span class="p">(</span><span class="s">&#39;PTO1&#39;</span><span class="p">);</span><span class="w">                      </span><span class="c">% Initialize ptoClass for PTO1</span>
<span class="n">pto</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">stiffness</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">                           </span><span class="c">% PTO Stiffness [Nm/rad]</span>
<span class="n">pto</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">damping</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">                                   </span><span class="c">% PTO Damping [Nsm/rad]</span>
<span class="n">pto</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">location</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">-</span><span class="mf">8.9</span><span class="p">];</span><span class="w">                        </span><span class="c">% PTO Location [m]</span>
</pre></div>
</div>
</section>
<section id="user-tutorials-oswec-step-four">
<span id="id7"></span><h4>Step 4: Run WEC-Sim<a class="headerlink" href="#user-tutorials-oswec-step-four" title="Link to this heading"></a></h4>
<p>To execute the WEC-Sim code for the OSWEC tutorial, type <code class="docutils literal notranslate"><span class="pre">wecSim</span></code> into the
MATLAB Command Window. Below is a figure showing the final OSWEC Simulink model
and the WEC-Sim GUI during the simulation. For more information on using
WEC-Sim to model the OSWEC device, refer to <span id="id8">[<a class="reference internal" href="#id13" title="Y. Yu, M. Lawson, K. Ruehl, and C. Michelen. Development and Demonstration of the WEC-Sim Wave Energy Converter Simulation Tool. In Proceedings of the 2nd Marine Energy Technology Symposium. Seattle, WA, USA, 2014.">A2</a>, <a class="reference internal" href="#id14" title="Y. Yu, Y. Li, K. Hallett, and C. Hotimsky. Design and Analysis for a Floating Oscillating Surge Wave Energy Converter. In Proceedings of OMAE 2014. San Francisco, CA, 2014.">A3</a>]</span>.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/OSWEC_WECSim_GUI.jpg"><img alt="../_images/OSWEC_WECSim_GUI.jpg" src="../_images/OSWEC_WECSim_GUI.jpg" style="width: 400pt;" />
</a>
</figure>
</section>
<section id="user-tutorials-oswec-step-five">
<span id="id9"></span><h4>Step 5: Post-processing<a class="headerlink" href="#user-tutorials-oswec-step-five" title="Link to this heading"></a></h4>
<p>The OSWEC tutorial includes a <code class="docutils literal notranslate"><span class="pre">userDefinedFunctions.m</span></code> which plots OSWEC
forces and responses. This file can be modified by users for post-processing.
Additionally, once the WEC-Sim run is complete, the WEC-Sim results are saved
to the <strong>output</strong> variable in the MATLAB workspace.</p>
</section>
</section>
</section>
<section id="wec-sim-examples">
<span id="user-tutorials-examples"></span><h2>WEC-Sim Examples<a class="headerlink" href="#wec-sim-examples" title="Link to this heading"></a></h2>
<p>Working examples of using WEC-Sim to model the RM3, OSWEC, and RM3FromSimulink are provided in
the <code class="docutils literal notranslate"><span class="pre">$WECSIM/examples/</span></code> directory. For each example the <code class="docutils literal notranslate"><span class="pre">wecSimInputFile.m</span></code>
provided includes examples of how to run different wave cases:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">noWaveCIC</span></code> - no wave with convolution integral calculation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">regularCIC</span></code> - regular waves with convolution integral calculation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">irregular</span></code> - irregular waves using a Pierson-Moskowitz spectrum with convolution integral calculation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">irregular</span></code> - irregular waves using a Bretschneider Spectrum with state space calculation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">spectrumImport</span></code> - irregular waves using a user-defined spectrum</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">elevationImport</span></code> - user-defined time-series</p></li>
<li><dl class="simple">
<dt>Run from MATLAB Command Window (for RM3 and OSWEC examples)</dt><dd><ul>
<li><p>Type <code class="docutils literal notranslate"><span class="pre">wecSim</span></code> in the Command Window</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Run from Simulink (for RM3FromSimulink example)</dt><dd><ul>
<li><p>Open the relevant WEC-Sim Simulink file</p></li>
<li><p>Type <code class="docutils literal notranslate"><span class="pre">initializeWecSim</span></code> in the Command Window</p></li>
<li><p>Hit Play in Simulink model to run</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>To customize or develop a new WEC-Sim model that runs from Simulink (e.g. for Hardware-in-the-Loop, HIL, applications) refer to <a class="reference internal" href="advanced_features.html#user-advanced-features-simulink"><span class="std std-ref">Running from Simulink</span></a> for more information.
Users may also use <code class="docutils literal notranslate"><span class="pre">wecSimMCR</span></code>, <code class="docutils literal notranslate"><span class="pre">wecSimPCT</span></code>, <code class="docutils literal notranslate"><span class="pre">wecSimFcn</span></code> and  as described in the advanced features
sections <a class="reference internal" href="advanced_features.html#user-advanced-features-mcr"><span class="std std-ref">Multiple Condition Runs (MCR)</span></a> and <a class="reference internal" href="advanced_features.html#user-advanced-features-pct"><span class="std std-ref">Parallel Computing Toolbox (PCT)</span></a>.
These options are only available through the MATLAB Command Window.</p>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Link to this heading"></a></h2>
<div class="docutils container" id="id10">
<div role="list" class="citation-list">
<div class="citation" id="id12" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">A1</a><span class="fn-bracket">]</span></span>
<p>K. Ruehl, C. Michelen, S. Kanner, M. Lawson, and Y. Yu. Preliminary Verification and Validation of WEC-Sim, an Open-Source Wave Energy Converter Design Tool. In <em>Proceedings of OMAE 2014</em>. San Francisco, CA, 2014.</p>
</div>
<div class="citation" id="id13" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id8">A2</a><span class="fn-bracket">]</span></span>
<p>Y. Yu, M. Lawson, K. Ruehl, and C. Michelen. Development and Demonstration of the WEC-Sim Wave Energy Converter Simulation Tool. In <em>Proceedings of the 2nd Marine Energy Technology Symposium</em>. Seattle, WA, USA, 2014.</p>
</div>
<div class="citation" id="id14" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id8">A3</a><span class="fn-bracket">]</span></span>
<p>Y. Yu, Y. Li, K. Hallett, and C. Hotimsky. Design and Analysis for a Floating Oscillating Surge Wave Energy Converter. In <em>Proceedings of OMAE 2014</em>. San Francisco, CA, 2014.</p>
</div>
</div>
</div>
</section>
</section>



           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="workflow.html" class="btn btn-neutral float-left" title="Workflow" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="code_structure.html" class="btn btn-neutral float-right" title="Code Structure" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, National Renewable Energy Laboratory and National Technology &amp; Engineering Solutions of Sandia, LLC (NTESS).</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: main
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Branches</dt>
      <dd><a href="../../dev/user/tutorials.html">dev</a></dd>
      <dd><a href="tutorials.html">main</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>