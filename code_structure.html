

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-88158104-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Code Structure &mdash; WEC-Sim  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorials" href="tutorials.html" />
    <link rel="prev" title="Theory" href="theory.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> WEC-Sim
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="terminology.html">Terminology</a><ul>
<li class="toctree-l2"><a class="reference internal" href="terminology.html#variables">Variables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#matlab-requirements">MATLAB Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#download-wec-sim">Download WEC-Sim</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#option-1-clone-repository-from-github-recommended-for-users">Option 1. Clone Repository from GitHub (Recommended for Users)</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#option-2-fork-with-git-recommended-for-developers">Option 2. Fork with Git (Recommended for Developers)</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#option-3-static-code-download-not-recommended">Option 3. Static Code Download (Not Recommended)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#install-wec-sim">Install WEC-Sim</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#step-1-add-wec-sim-source-code-to-matlab-path">Step 1. Add WEC-Sim Source Code to MATLAB Path</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#step-2-add-wec-sim-library-to-simulink">Step 2. Add WEC-Sim Library to Simulink</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#step-3-test-the-installation">Step 3. Test the Installation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="overview.html#wec-sim-model-files">WEC-Sim Model Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="overview.html#hydrodynamic-data">Hydrodynamic Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="overview.html#geometry-file">Geometry File</a></li>
<li class="toctree-l3"><a class="reference internal" href="overview.html#simulink-model">Simulink Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="overview.html#input-file">Input File</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#running-wec-sim">Running WEC-Sim</a><ul>
<li class="toctree-l3"><a class="reference internal" href="overview.html#step-1-run-bemio">Step 1: Run BEMIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="overview.html#step-2-build-simulink-model">Step 2: Build Simulink Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="overview.html#step-3-write-wecsiminputfile-m">Step 3: Write wecSimInputFile.m</a></li>
<li class="toctree-l3"><a class="reference internal" href="overview.html#step-4-run-wec-sim">Step 4: Run WEC-Sim</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="theory.html">Theory</a><ul>
<li class="toctree-l2"><a class="reference internal" href="theory.html#coordinate-system">Coordinate System</a></li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#units">Units</a></li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#boundary-element-method-bem">Boundary Element Method (BEM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#time-domain-formulation">Time-Domain Formulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#numerical-methods">Numerical Methods</a><ul>
<li class="toctree-l3"><a class="reference internal" href="theory.html#ramp-function">Ramp Function</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#sinusoidal-steady-state-response">Sinusoidal Steady-State Response</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#convolution-integral-formulation">Convolution Integral Formulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#state-space">State Space</a><ul>
<li class="toctree-l4"><a class="reference internal" href="theory.html#calculation-of-k-r-from-state-space-matrices">Calculation of <img class="math" src="_images/math/823642569004dcf6ef16716b13ae373f63d9e1d5.png" alt="K_{r}"/> from State Space Matrices</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#realization-theory">Realization Theory</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#regular-waves">Regular Waves</a></li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#irregular-waves">Irregular Waves</a></li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#wave-spectra">Wave Spectra</a><ul>
<li class="toctree-l3"><a class="reference internal" href="theory.html#pierson-moskowitz-pm">Pierson–Moskowitz (PM)</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#bretschneider-bs">Bretschneider (BS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#jonswap-js">JONSWAP (JS)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#power-take-off-pto">Power Take-Off (PTO)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="theory.html#linear-pto">Linear PTO</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#hydraulic-pto">Hydraulic PTO</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#mechanical-pto">Mechanical PTO</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#mooring">Mooring</a><ul>
<li class="toctree-l3"><a class="reference internal" href="theory.html#mooring-matrix">Mooring Matrix</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#id24">MoorDyn</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#nonlinear-buoynancy-and-froude-krylov-wave-excitation">Nonlinear Buoynancy and Froude-Krylov Wave Excitation</a></li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#viscous-damping-and-morison-elements">Viscous Damping and Morison Elements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="theory.html#viscous-damping">Viscous Damping</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#morison-elements">Morison Elements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Code Structure</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#wec-sim-source-code">WEC-Sim Source Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wec-sim-objects">WEC-Sim Objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#simulation-class">Simulation Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wave-class">Wave Class</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nowave">noWave</a></li>
<li class="toctree-l4"><a class="reference internal" href="#nowavecic">noWaveCIC</a></li>
<li class="toctree-l4"><a class="reference internal" href="#regular">regular</a></li>
<li class="toctree-l4"><a class="reference internal" href="#regularcic">regularCIC</a></li>
<li class="toctree-l4"><a class="reference internal" href="#irregular">irregular</a></li>
<li class="toctree-l4"><a class="reference internal" href="#spectrumimport">spectrumImport</a></li>
<li class="toctree-l4"><a class="reference internal" href="#etaimport">etaImport</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#body-class">Body Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#constraint-class">Constraint Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pto-class">PTO Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mooring-class">Mooring Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#response-class">Response Class</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#wec-sim-library">WEC-Sim Library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#body-elements">Body Elements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#frames">Frames</a></li>
<li class="toctree-l3"><a class="reference internal" href="#constraints">Constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ptos">PTOs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mooring">Mooring</a></li>
<li class="toctree-l3"><a class="reference internal" href="#simulink-simscape-blocks">Simulink/Simscape Blocks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id2">Output Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#functions-external-codes">Functions &amp; External Codes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#two-body-point-absorber-rm3">Two-Body Point Absorber (RM3)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials.html#device-geometry">Device Geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials.html#wec-sim-model-files">WEC-Sim Model Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials.html#rm3-tutorial">RM3 Tutorial</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials.html#step-1-run-bemio">Step 1: Run BEMIO</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials.html#step-2-build-simulink-model">Step 2: Build Simulink Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials.html#step-3-write-wecsiminputfile-m">Step 3: Write wecSimInputFile.m</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials.html#step-4-run-wec-sim">Step 4: Run WEC-Sim</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials.html#step-5-post-processing">Step 5: Post-processing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#oscillating-surge-wec-oswec">Oscillating Surge WEC (OSWEC)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials.html#id3">Device Geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials.html#id4">WEC-Sim Model Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials.html#oswec-tutorial">OSWEC Tutorial</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials.html#id5">Step 1: Run BEMIO</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials.html#id7">Step 2: Build Simulink Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials.html#id8">Step 3: Write wecSimInputFile.m</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials.html#id9">Step 4: Run WEC-Sim</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials.html#id12">Step 5: Post-processing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#wec-sim-examples">WEC-Sim Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#applications-repository">Applications Repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="advanced_features.html">Advanced Features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="advanced_features.html#bemio">BEMIO</a><ul>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#bemio-functions">BEMIO Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#bemio-hydro-data-structure">BEMIO <em>hydro</em> Data Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#writing-your-own-h5-file">Writing Your Own h5 File</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="advanced_features.html#simulation-features">Simulation Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#multiple-condition-runs-mcr">Multiple Condition Runs (MCR)</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#state-space-representation">State-Space Representation</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#time-step-features">Time-Step Features</a><ul>
<li class="toctree-l4"><a class="reference internal" href="advanced_features.html#fixed-time-step-ode4">Fixed Time-Step (ode4)</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced_features.html#variable-time-step-ode45">Variable Time-Step (ode45)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="advanced_features.html#wave-features">Wave Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#irregular-wave-binning">Irregular Wave Binning</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#wave-directionality">Wave Directionality</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#wave-directional-spreading">Wave Directional Spreading</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#irregular-waves-with-seeded-phase">Irregular Waves with Seeded Phase</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#wave-gauge-placement">Wave Gauge Placement</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="advanced_features.html#body-features">Body Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#body-mass-and-geometry-features">Body Mass and Geometry Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#nonlinear-buoyancy-and-froude-krylov-excitation">Nonlinear Buoyancy and Froude-Krylov Excitation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="advanced_features.html#nonlinear-settings">Nonlinear Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced_features.html#stl-file-generation">STL File Generation</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced_features.html#nonlinear-buoyancy-and-froude-krylov-wave-excitation-tutorial-heaving-ellipsoid">Nonlinear Buoyancy and Froude-Krylov Wave Excitation Tutorial - Heaving Ellipsoid</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#non-hydrodynamic-bodies">Non-Hydrodynamic Bodies</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#body-to-body-interactions">Body-To-Body Interactions</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#viscous-damping-and-morison-elements">Viscous Damping and Morison Elements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="advanced_features.html#viscous-damping">Viscous Damping</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced_features.html#morison-elements">Morison Elements</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="advanced_features.html#constraint-and-pto-features">Constraint and PTO Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#power-take-off-pto-sim">Power Take-Off/PTO-Sim</a><ul>
<li class="toctree-l4"><a class="reference internal" href="advanced_features.html#tutorial-rm3-with-pto-sim">Tutorial: RM3 with PTO-Sim</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced_features.html#tutorial-oswec-with-pto-sim">Tutorial: OSWEC with PTO-Sim</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced_features.html#other-pto-sim-tutorials">Other PTO-Sim Tutorials</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="advanced_features.html#mooring-features">Mooring Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#mooring-matrix">Mooring Matrix</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#moordyn">MoorDyn</a><ul>
<li class="toctree-l4"><a class="reference internal" href="advanced_features.html#tutorial-rm3-with-moordyn">Tutorial: RM3 with MoorDyn</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="advanced_features.html#visualization-paraview">Visualization/Paraview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#getting-started-installation">Getting Started - Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#setting-up-paraview-output">Setting Up Paraview Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#outputs-and-opening-in-paraview">Outputs and Opening in Paraview</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#basic-visualization-manipulation">Basic Visualization Manipulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#visualizing-non-linear-buoyancy-and-froude-krylov-wave-excitation">Visualizing Non-Linear Buoyancy and Froude-Krylov Wave Excitation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="advanced_features.html#decay-tests">Decay Tests</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="webinars.html">Webinars</a><ul>
<li class="toctree-l2"><a class="reference internal" href="webinars.html#online-training-course">Online Training Course</a><ul>
<li class="toctree-l3"><a class="reference internal" href="webinars.html#wec-sim-overview">WEC-Sim Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="webinars.html#theory-workflow">Theory &amp; Workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="webinars.html#wec-sim-code-structure">WEC-Sim Code Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="webinars.html#wave-implementation">Wave Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="webinars.html#body-implementation">Body Implementation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="webinars.html#advanced-features-webinars">Advanced Features Webinars</a><ul>
<li class="toctree-l3"><a class="reference internal" href="webinars.html#webinar-1-bemio-and-mcr">Webinar 1 - BEMIO and MCR</a></li>
<li class="toctree-l3"><a class="reference internal" href="webinars.html#webinar-2-nonlinear-buoyancy-and-froude-krylov-wave-excitation-non-hydro-and-b2b">Webinar 2 - Nonlinear Buoyancy and Froude-Krylov Wave Excitation, Non-Hydro and B2B</a></li>
<li class="toctree-l3"><a class="reference internal" href="webinars.html#webinar-3-pto-and-control">Webinar 3 - PTO and Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="webinars.html#webinar-4-mooring-and-visualization">Webinar 4 - Mooring and Visualization</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="acknowledgements.html">Acknowledgements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="acknowledgements.html#past-wec-sim-contributors">Past WEC-Sim Contributors</a></li>
<li class="toctree-l2"><a class="reference internal" href="acknowledgements.html#funding">Funding</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">Publications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="publications.html#news-articles">News Articles</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#current-release">Current Release</a><ul>
<li class="toctree-l3"><a class="reference internal" href="release_notes.html#id2">WEC-Sim v4.0</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#features-in-development">Features in Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#previous-releases">Previous Releases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="release_notes.html#id3">WEC-Sim v3.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes.html#id4">WEC-Sim v3.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes.html#id5">WEC-Sim v2.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes.html#id6">WEC-Sim v2.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes.html#id7">WEC-Sim v2.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes.html#id8">WEC-Sim v1.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes.html#id9">WEC-Sim v1.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes.html#id10">WEC-Sim v1.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes.html#id11">WEC-Sim v1.0</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Online Forum</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">WEC-Sim</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Code Structure</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/code_structure.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="code-structure">
<span id="id1"></span><h1>Code Structure<a class="headerlink" href="#code-structure" title="Permalink to this headline">¶</a></h1>
<p>This section provides a description of the WEC-Sim source code and its structure.
For more information about WEC-Sim’s code structure, refer to the <a class="reference external" href="http://wec-sim.github.io/WEC-Sim/webinars.html#code-structure-overview">webinar on WEC-Sim Code Structure</a>.</p>
<div class="section" id="wec-sim-source-code">
<h2>WEC-Sim Source Code<a class="headerlink" href="#wec-sim-source-code" title="Permalink to this headline">¶</a></h2>
<p>The WEC-Sim source code consists of a series of MATLAB <code class="docutils literal notranslate"><span class="pre">*.m</span></code> objects (defined in WEC-Sim as classes) and Simulink <code class="docutils literal notranslate"><span class="pre">*.slx</span></code> library blocks which are executed by the <code class="docutils literal notranslate"><span class="pre">wecSim.m</span></code> script.
Executing <code class="docutils literal notranslate"><span class="pre">wecSim.m</span></code> parses the user input data, performs preprocessing calculations in each of the classes, selects and initializes variant subsystems in the Simulink model, and runs the time-domain simulations in WEC-Sim.
The WEC-Sim source code files are contained within a source directory referred to as <code class="docutils literal notranslate"><span class="pre">$SOURCE</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">C:/User/Documents/GitHub/WEC-Sim</span></code>).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 38%" />
<col style="width: 31%" />
<col style="width: 31%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>File Type</strong></p></td>
<td><p><strong>File name</strong></p></td>
<td><p><strong>Directory</strong></p></td>
</tr>
<tr class="row-even"><td><p>WEC-Sim Executable Script</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">wecSim.m</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$SOURCE</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>WEC-Sim MATLAB Objects</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&lt;object&gt;Class.m</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$SOURCE/objects</span></code></p></td>
</tr>
<tr class="row-even"><td><p>WEC-Sim Simulink Library</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&lt;block&gt;_Lib.slx</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">$SOURCE/lib</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="wec-sim-objects">
<h2>WEC-Sim Objects<a class="headerlink" href="#wec-sim-objects" title="Permalink to this headline">¶</a></h2>
<p>All information required to run WEC-Sim simulations is contained within the <code class="docutils literal notranslate"><span class="pre">simu</span></code>, <code class="docutils literal notranslate"><span class="pre">waves</span></code>, <code class="docutils literal notranslate"><span class="pre">body(i)</span></code>, <code class="docutils literal notranslate"><span class="pre">pto(i)</span></code>, <code class="docutils literal notranslate"><span class="pre">constraint(i)</span></code>, and <code class="docutils literal notranslate"><span class="pre">mooring(i)</span></code> objects (instances of the simulationClass, waveClass, bodyClass, constraintClass, ptoClass, and mooringClass).
The user can interact with these classes within the WEC-Sim input file (<code class="docutils literal notranslate"><span class="pre">wecSimInputFile.m</span></code>).
The remainder of this section describes the role of the WEC-Sim objects, and how to interact with the WEC-Sim objects to define input properties.</p>
<p>There are two ways to look at the available properties and methods within a class.
The first is to type <code class="docutils literal notranslate"><span class="pre">doc</span> <span class="pre">&lt;className&gt;</span></code> in Matlab Command Window, and the second is to open the class definitions located in the <code class="docutils literal notranslate"><span class="pre">$SOURCE/objects</span></code> directory by typing <code class="docutils literal notranslate"><span class="pre">open</span> <span class="pre">&lt;className&gt;</span></code> in MATLAB Command Window.
The latter provides more information since it also defines the different fields in a structure.</p>
<div class="section" id="simulation-class">
<h3>Simulation Class<a class="headerlink" href="#simulation-class" title="Permalink to this headline">¶</a></h3>
<p>The simulation class file, <code class="docutils literal notranslate"><span class="pre">simulationClass.m</span></code>, is located in the <code class="docutils literal notranslate"><span class="pre">$SOURCE/objects</span></code> directory.
The simulation class contains the simulation parameters and solver settings necessary to execute the WEC-Sim code.
Within the <code class="docutils literal notranslate"><span class="pre">wecSimInputFile.m</span></code>, users must initialize the simulation class (<code class="docutils literal notranslate"><span class="pre">simulationClass</span></code>) and specify the name of the  WEC-Sim (<code class="docutils literal notranslate"><span class="pre">*.slx</span></code>) model file by including the following lines:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">simu</span><span class="o">=</span><span class="n">simulationClass</span><span class="p">();</span>
<span class="n">simu</span><span class="o">.</span><span class="n">simMechanicsFile</span><span class="o">=</span><span class="s1">&#39;&lt;WEC Model Name&gt;.slx&#39;</span>
</pre></div>
</div>
<p>Users may specify other simulation class properties using the <code class="docutils literal notranslate"><span class="pre">simu</span></code> object in the <code class="docutils literal notranslate"><span class="pre">wecSimInputFile.m</span></code>, such as: simulation start time (<code class="docutils literal notranslate"><span class="pre">simu.startTime</span></code>), end time (<code class="docutils literal notranslate"><span class="pre">simu.endTime</span></code>), ramp time (<code class="docutils literal notranslate"><span class="pre">simu.rampTime</span></code>) and time step (<code class="docutils literal notranslate"><span class="pre">simu.dt</span></code>).
All simulation class properties are specified as variables within the <code class="docutils literal notranslate"><span class="pre">simu</span></code> object as members of the <code class="docutils literal notranslate"><span class="pre">simulationClass</span></code>.</p>
<p>The WEC-Sim code has default values defined for the simulation class properties.
These default values can be overwritten by the user, for example, the end time of a simulation can be set by entering the following command: <code class="docutils literal notranslate"><span class="pre">simu.endTime</span> <span class="pre">=</span> <span class="pre">&lt;user</span> <span class="pre">specified</span> <span class="pre">end</span> <span class="pre">time&gt;</span></code>.</p>
<p>Available simulation properties, default values, and functions can be found by typing <code class="docutils literal notranslate"><span class="pre">doc</span> <span class="pre">simulationClass</span></code> in the MATLAB command window, or by opening the <code class="docutils literal notranslate"><span class="pre">simulationClass.m</span></code> file in <code class="docutils literal notranslate"><span class="pre">$SOURCE//objects</span></code> directory by typing <code class="docutils literal notranslate"><span class="pre">open</span> <span class="pre">simulationClass</span></code> in MATLAB Command Window.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about application of WEC-Sim’s simulation class, refer to <a class="reference external" href="http://wec-sim.github.io/WEC-Sim/advanced_features.html#simulation-features">Simulation Features</a>.</p>
</div>
</div>
<div class="section" id="wave-class">
<h3>Wave Class<a class="headerlink" href="#wave-class" title="Permalink to this headline">¶</a></h3>
<p>The wave class file, <code class="docutils literal notranslate"><span class="pre">waveClass.m</span></code>, is located in the <code class="docutils literal notranslate"><span class="pre">$SOURCE/objects</span></code> directory.
The wave class contains all wave information necessary to define the incident wave condition for the WEC-Sim time-domain simulation.
Within the <code class="docutils literal notranslate"><span class="pre">wecSimInputFile.m</span></code>, users must initialize the wave class (<code class="docutils literal notranslate"><span class="pre">waveClass</span></code>) and specify the wave <code class="docutils literal notranslate"><span class="pre">type</span></code> by including the following lines:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">waves</span> <span class="o">=</span> <span class="n">waveClass</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Users must specify additional wave class properties using the <code class="docutils literal notranslate"><span class="pre">waves</span></code> object depending on which wave type is selected, as shown in the table below. A more detailed description of the available wave types is given in the following sections.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 73%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Wave Type</strong></p></td>
<td><p><strong>Required Properties</strong></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">noWave</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">waves.T</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">noWaveCIC</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">regular</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">waves.H</span></code>, <code class="docutils literal notranslate"><span class="pre">waves.T</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">regularCIC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">waves.H</span></code>, <code class="docutils literal notranslate"><span class="pre">waves.T</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">irregular</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">waves.H</span></code>, <code class="docutils literal notranslate"><span class="pre">waves.T</span></code>, <code class="docutils literal notranslate"><span class="pre">waves.spectrumType</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">spectrumImport</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">waves.spectrumDataFile</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">etaImport</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">waves.etaDataFile</span></code></p></td>
</tr>
</tbody>
</table>
<p>Available wave class properties, default values, and functions can be found by typing <code class="docutils literal notranslate"><span class="pre">doc</span> <span class="pre">waveClass</span></code> in the MATLAB command window, or by opening the <code class="docutils literal notranslate"><span class="pre">waveClass.m</span></code> file in <code class="docutils literal notranslate"><span class="pre">$SOURCE/objects</span></code> directory by typing <code class="docutils literal notranslate"><span class="pre">open</span> <span class="pre">waveClass</span></code> in the Matlab Command Window.</p>
<div class="section" id="nowave">
<h4>noWave<a class="headerlink" href="#nowave" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">noWave</span></code> case is for running WEC-Sim simulations with no waves and constant radiation added mass and wave damping coefficients.
The <code class="docutils literal notranslate"><span class="pre">noWave</span></code> case is typically used to run decay tests.
Users must still provide hydro coefficients from a BEM solver before executing WEC-Sim and specify the period (<code class="docutils literal notranslate"><span class="pre">wave.T</span></code>) from which the hydrodynamic coefficients are selected.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">noWave</span></code> case is defined by including the following in the input file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">waves</span> <span class="o">=</span> <span class="n">waveClass</span><span class="p">(</span><span class="s1">&#39;noWave&#39;</span><span class="p">);</span>
<span class="n">waves</span><span class="o">.</span><span class="n">T</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">user</span> <span class="n">defined</span> <span class="n">wave</span> <span class="n">period</span><span class="o">&gt;</span><span class="p">;</span> <span class="o">%</span><span class="p">[</span><span class="n">s</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="nowavecic">
<h4>noWaveCIC<a class="headerlink" href="#nowavecic" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">noWaveCIC</span></code> case is the same as the noWave case described above, but with the addition of the convolution integral calculation.
The only difference is that the radiation forces are calculated using the convolution integral and the infinite frequency added mass.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">noWaveCIC</span></code> case is defined by including the following in the input file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">waves</span> <span class="o">=</span> <span class="n">waveClass</span><span class="p">(</span><span class="s1">&#39;noWaveCIC&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="regular">
<h4>regular<a class="headerlink" href="#regular" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">regular</span></code> wave case  is used for running simulations in regular waves with constant radiation added mass and wave damping coefficients.
Using this option, WEC-Sim assumes that the system dynamic response is in sinusoidal steady-state form, where constant added mass and damping coefficients are used (instead of the convolution integral) to calculate wave radiation forces.
Wave period (<code class="docutils literal notranslate"><span class="pre">wave.T</span></code>) and wave height (<code class="docutils literal notranslate"><span class="pre">wave.H</span></code>) must be specified in the input file.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">regular</span></code> case is defined by including the following in the input file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">waves</span> <span class="o">=</span> <span class="n">waveClass</span><span class="p">(</span><span class="s1">&#39;regular&#39;</span><span class="p">);</span>
<span class="n">waves</span><span class="o">.</span><span class="n">T</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">user</span> <span class="n">defined</span> <span class="n">wave</span> <span class="n">period</span><span class="o">&gt;</span><span class="p">;</span> <span class="o">%</span><span class="p">[</span><span class="n">s</span><span class="p">]</span>
<span class="n">waves</span><span class="o">.</span><span class="n">H</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">user</span> <span class="n">defined</span> <span class="n">wave</span> <span class="n">height</span><span class="o">&gt;</span><span class="p">;</span> <span class="o">%</span><span class="p">[</span><span class="n">m</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="regularcic">
<h4>regularCIC<a class="headerlink" href="#regularcic" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">regularCIC</span></code> is the same as regular wave case described above, but with the addition of the convolution integral calculation.
The only difference is that the radiation forces are calculated using the convolution integral and the infinite frequency added mass.
Wave period (<code class="docutils literal notranslate"><span class="pre">wave.T</span></code>) and wave height (<code class="docutils literal notranslate"><span class="pre">wave.H</span></code>) must be specified in the input file.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">regularCIC</span></code> case is defined by including the following in the input file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">waves</span> <span class="o">=</span> <span class="n">waveClass</span><span class="p">(</span><span class="s1">&#39;regularCIC&#39;</span><span class="p">);</span>
<span class="n">waves</span><span class="o">.</span><span class="n">T</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">user</span> <span class="n">defined</span> <span class="n">wave</span> <span class="n">period</span><span class="o">&gt;</span><span class="p">;</span> <span class="o">%</span><span class="p">[</span><span class="n">s</span><span class="p">]</span>
<span class="n">waves</span><span class="o">.</span><span class="n">H</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">user</span> <span class="n">defined</span> <span class="n">wave</span> <span class="n">height</span><span class="o">&gt;</span><span class="p">;</span> <span class="o">%</span><span class="p">[</span><span class="n">m</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="irregular">
<h4>irregular<a class="headerlink" href="#irregular" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">irregular</span></code> wave case is the wave type for irregular wave simulations using a Pierson Moskowitz (PM), Bretschneider (BS), or JONSWAP (JS) wave spectrum.
Significant wave height (<code class="docutils literal notranslate"><span class="pre">wave.H</span></code>), peak period (<code class="docutils literal notranslate"><span class="pre">wave.T</span></code>), and wave spectrum type (<code class="docutils literal notranslate"><span class="pre">waves.spectrumtype</span></code>) must be specified in the input file.
The available wave spectra and their corresponding <code class="docutils literal notranslate"><span class="pre">waves.spectrumType</span></code> are listed below:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 55%" />
<col style="width: 45%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Wave Spectrum</strong></p></td>
<td><p><strong>spectrumType</strong></p></td>
</tr>
<tr class="row-even"><td><p>Pierson Moskowitz</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PM</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Bretschneider</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BS</span></code></p></td>
</tr>
<tr class="row-even"><td><p>JONSWAP</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">JS</span></code></p></td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">irregular</span></code> case is defined by including the following in the input file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">waves</span> <span class="o">=</span> <span class="n">waveClass</span><span class="p">(</span><span class="s1">&#39;irregular&#39;</span><span class="p">);</span>
<span class="n">waves</span><span class="o">.</span><span class="n">T</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">user</span> <span class="n">defined</span> <span class="n">wave</span> <span class="n">period</span><span class="o">&gt;</span><span class="p">;</span> <span class="o">%</span><span class="p">[</span><span class="n">s</span><span class="p">]</span>
<span class="n">waves</span><span class="o">.</span><span class="n">H</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">user</span> <span class="n">defined</span> <span class="n">wave</span> <span class="n">height</span><span class="o">&gt;</span><span class="p">;</span> <span class="o">%</span><span class="p">[</span><span class="n">m</span><span class="p">]</span>
<span class="n">waves</span><span class="o">.</span><span class="n">spectrumType</span> <span class="o">=</span> <span class="s1">&#39;&lt;user specified spectrum&gt;&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>When using the JONSWAP spectrum, users have the option of defining gamma by specifying <code class="docutils literal notranslate"><span class="pre">waves.gamma</span> <span class="pre">=</span> <span class="pre">&lt;user</span> <span class="pre">specified</span> <span class="pre">gamma&gt;;</span></code>. If gamma is not defined, the default value of gamma equal to 3.3 is used.</p>
</div>
<div class="section" id="spectrumimport">
<h4>spectrumImport<a class="headerlink" href="#spectrumimport" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">spectrumImport</span></code> case is the wave type for irregular wave simulations using an imported wave spectrum (ex: from buoy data).
The user-defined spectrum must be defined with the wave frequency (Hz) in the first column, and the spectral energy density (m^2/Hz) in the second column.
Users have the option to specify a third column with phase (rad); if phase is not specified by the user it will be randomly defined.
An example of this is given in the <code class="docutils literal notranslate"><span class="pre">spectrumData.mat</span></code> file in the tutorials directory folder of the WEC-Sim source code.
The <code class="docutils literal notranslate"><span class="pre">spectrumImport</span></code> case is defined by including the following in the input file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">waves</span> <span class="o">=</span> <span class="n">waveClass</span><span class="p">(</span><span class="s1">&#39;spectrumImport&#39;</span><span class="p">);</span>
<span class="n">waves</span><span class="o">.</span><span class="n">spectrumDataFile</span><span class="o">=</span><span class="s1">&#39;&lt;wave spectrum file&gt;.mat&#39;</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using the <code class="docutils literal notranslate"><span class="pre">spectrumImport</span></code> option, users must specify a sufficient number of wave frequencies (typically ~1000) to adequately describe the wave spectra. These wave frequencies are the same that will be used to define the wave forces on the WEC, for more information refer to the <a class="reference external" href="http://wec-sim.github.io/WEC-Sim/advanced_features.html#irregular-wave-binning">Irregular Wave Binning</a> section.</p>
</div>
</div>
<div class="section" id="etaimport">
<h4>etaImport<a class="headerlink" href="#etaimport" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">etaImport</span></code> case is the wave type for wave simulations using user-defined time-series (ex: from experiments).
The user-defined wave surface elevation must be defined with the time (s) in the first column, and the wave surface elevation (m) in the second column.
An example of this is given in the <code class="docutils literal notranslate"><span class="pre">etaData.mat</span></code> file in the tutorials directory folder of the WEC-Sim source code.
The <code class="docutils literal notranslate"><span class="pre">etaImport</span></code> case is defined by including the following in the input file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">waves</span> <span class="o">=</span> <span class="n">waveClass</span><span class="p">(</span><span class="s1">&#39;etaImport&#39;</span><span class="p">);</span>
<span class="n">waves</span><span class="o">.</span><span class="n">etaDataFile</span> <span class="o">=</span><span class="s1">&#39;&lt;eta file&gt;.mat&#39;</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about application of WEC-Sim’s wave class, refer to <a class="reference external" href="http://wec-sim.github.io/WEC-Sim/advanced_features.html#wave-features">Wave Features</a>.</p>
</div>
</div>
</div>
<div class="section" id="body-class">
<h3>Body Class<a class="headerlink" href="#body-class" title="Permalink to this headline">¶</a></h3>
<p>The body class file, <code class="docutils literal notranslate"><span class="pre">bodyClass.m</span></code>, is located in the <code class="docutils literal notranslate"><span class="pre">$SOURCE/objects</span></code> directory.
The body class contains the mass and hydrodynamic properties of each body that comprises the WEC being simulated.
Within the <code class="docutils literal notranslate"><span class="pre">wecSimInputFile.m</span></code>, users must initialize each iteration of the body class (<code class="docutils literal notranslate"><span class="pre">bodyClass</span></code>), and specify the location of the  hydrodynamic data file (<code class="docutils literal notranslate"><span class="pre">*.h5</span></code>) and geometry file (<code class="docutils literal notranslate"><span class="pre">*.stl</span></code>) for each body. The body class is defined by including the following lines in the WEC-Sim input file, where # is the body number ‘&lt;bem_data&gt;.h5’ is the name of the h5 file containing the BEM results:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">body</span><span class="p">(</span><span class="o">&lt;</span><span class="c1">#&gt;)=bodyClass(&#39;&lt;bem_data&gt;.h5&#39;)</span>
<span class="n">body</span><span class="p">(</span><span class="o">&lt;</span><span class="c1">#&gt;).geometryFile = &#39;&lt;geom&gt;.stl&#39;;</span>
</pre></div>
</div>
<p>Users may specify other body class properties using the <code class="docutils literal notranslate"><span class="pre">body</span></code> object for each body in the <code class="docutils literal notranslate"><span class="pre">wecSimInputFile.m</span></code>.
WEC-Sim assumes that every WEC is composed of rigid bodies exposed to wave forcing.
Body class properties include mass (<code class="docutils literal notranslate"><span class="pre">body(#).mass</span></code>) and moment of inertia (<code class="docutils literal notranslate"><span class="pre">body(#).momOfInertia</span></code>).
For example, viscous drag can be specified by entering the viscous drag coefficient and the characteristic area in vector format the WEC-Sim input file as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">body</span><span class="p">(</span><span class="o">&lt;</span><span class="c1">#&gt;).viscDrag.cd= [0 0 1.3 0 0 0]</span>
<span class="n">body</span><span class="p">(</span><span class="o">&lt;</span><span class="c1">#&gt;).viscDrag.characteristicArea= [0 0 100 0 0 0]</span>
</pre></div>
</div>
<p>Available body properties, default values, and functions can be found by typing <code class="docutils literal notranslate"><span class="pre">doc</span> <span class="pre">bodyClass</span></code> in the MATLAB command window, or opening the <cite>bodyClass.m</cite> file in <code class="docutils literal notranslate"><span class="pre">$SOURCE/objects</span></code> directory by typing <code class="docutils literal notranslate"><span class="pre">open</span> <span class="pre">bodyClass</span></code> in Matlab Command Window.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about application of WEC-Sim’s body class, refer to <a class="reference external" href="http://wec-sim.github.io/WEC-Sim/advanced_features.html#body-features">Body Features</a>.</p>
</div>
</div>
<div class="section" id="constraint-class">
<h3>Constraint Class<a class="headerlink" href="#constraint-class" title="Permalink to this headline">¶</a></h3>
<p>The constraint class file, <code class="docutils literal notranslate"><span class="pre">constraintClass.m</span></code>, is located in the <code class="docutils literal notranslate"><span class="pre">$SOURCE/objects</span></code> directory.
WEC-Sim constraint blocks connect WEC bodies to one another (and possibly to the seabed) by constraining DOFs.
The properties of the constraint class (<code class="docutils literal notranslate"><span class="pre">constraintClass</span></code>) are defined in the <code class="docutils literal notranslate"><span class="pre">constraint</span></code> object.
Within the <code class="docutils literal notranslate"><span class="pre">wecSimInputFile.m</span></code>, users must initialize each iteration the constraint class (<code class="docutils literal notranslate"><span class="pre">constraintClass</span></code>) and specify the constraint <code class="docutils literal notranslate"><span class="pre">name</span></code>, by including the following lines:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">constraint</span><span class="p">(</span><span class="o">&lt;</span><span class="c1">#&gt;)=constraintClass(&#39;&lt;constraint name&gt;&#39;);</span>
</pre></div>
</div>
<p>For rotational constraint (ex: pitch), the user also needs to specify the location of the rotational joint with respect to the global reference frame in the <code class="docutils literal notranslate"><span class="pre">constraint(&lt;#&gt;).loc</span></code> variable.</p>
<p>Available constraint properties, default values, and functions can be found by typing <code class="docutils literal notranslate"><span class="pre">doc</span> <span class="pre">constraintClass</span></code> in the MATLAB command window, or opening the <cite>constraintClass.m</cite> file in <code class="docutils literal notranslate"><span class="pre">$SOURCE/objects</span></code> directory by typing <code class="docutils literal notranslate"><span class="pre">open</span> <span class="pre">constraintClass</span></code> in MATLAB Command Window.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about application of WEC-Sim’s constraint class, refer to <a class="reference external" href="http://wec-sim.github.io/WEC-Sim/advanced_features.html#constraint-and-pto-features">Constraint Features</a></p>
</div>
</div>
<div class="section" id="pto-class">
<h3>PTO Class<a class="headerlink" href="#pto-class" title="Permalink to this headline">¶</a></h3>
<p>The pto class file, <code class="docutils literal notranslate"><span class="pre">ptoClass.m</span></code>, is located in the <code class="docutils literal notranslate"><span class="pre">$SOURCE/objects</span></code> directory.
WEC-Sim Power Take-Off (PTO) blocks connect WEC bodies to one other (and possibly to the seabed) by constraining DOFs and applying linear damping and stiffness.
The pto class (<code class="docutils literal notranslate"><span class="pre">ptoClass</span></code>) extracts power from relative body motion with respect to a fixed reference frame or another body.
The properties of the PTO class (<code class="docutils literal notranslate"><span class="pre">ptoClass</span></code>) are defined in the <code class="docutils literal notranslate"><span class="pre">pto</span></code> object.
Within the <code class="docutils literal notranslate"><span class="pre">wecSimInputFile.m</span></code>, users must initialize each iteration the pto class (<code class="docutils literal notranslate"><span class="pre">ptoClass</span></code>) and specify the pto <code class="docutils literal notranslate"><span class="pre">name</span></code>, by including the following lines:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pto</span><span class="p">(</span><span class="o">&lt;</span><span class="c1">#&gt;) = ptoClass(&#39;&lt;pto name&gt;&#39;);</span>
</pre></div>
</div>
<p>For rotational ptos, the user also needs to specify the location of the rotational joint with respect to the global reference frame in the <code class="docutils literal notranslate"><span class="pre">constraint(&lt;#&gt;).loc</span></code> variable.
In the PTO class, users can also specify linear damping (<code class="docutils literal notranslate"><span class="pre">pto(&lt;#&gt;).c</span></code>) and stiffness (<code class="docutils literal notranslate"><span class="pre">pto(&lt;#&gt;).k</span></code>) values to represent the PTO system (both have a default value of 0).
Users can overwrite the default values in the input file. For example, users can specify a damping value by entering the following in the WEC-Sim input file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pto</span><span class="p">(</span><span class="o">&lt;</span><span class="c1">#&gt;).c = &lt;pto damping value&gt;;</span>
<span class="n">pto</span><span class="p">(</span><span class="o">&lt;</span><span class="c1">#&gt;).k = &lt;pto stiffness value&gt;;</span>
</pre></div>
</div>
<p>Available pto properties, default values, and functions can be found by typing <code class="docutils literal notranslate"><span class="pre">doc</span> <span class="pre">ptoClass</span></code> in the MATLAB command window, or opening the <cite>ptoClass.m</cite> file in <code class="docutils literal notranslate"><span class="pre">$SOURCE/objects</span></code> directory by typing <code class="docutils literal notranslate"><span class="pre">open</span> <span class="pre">ptoClass</span></code> in MATLAB Command Window.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about application of WEC-Sim’s pto class, refer to <a class="reference external" href="http://wec-sim.github.io/WEC-Sim/advanced_features.html#constraint-and-pto-features">PTO Features</a></p>
</div>
</div>
<div class="section" id="mooring-class">
<h3>Mooring Class<a class="headerlink" href="#mooring-class" title="Permalink to this headline">¶</a></h3>
<p>The mooring class file, <cite>mooringClass.m`</cite>, is located in the <code class="docutils literal notranslate"><span class="pre">$SOURCE/objects</span></code> directory.
The properties of the mooring class (<code class="docutils literal notranslate"><span class="pre">mooringClass</span></code>) are defined in the <code class="docutils literal notranslate"><span class="pre">mooring</span></code> object.
Within the <code class="docutils literal notranslate"><span class="pre">wecSimInputFile.m</span></code>, users must initialize the mooring class and specify the mooring <code class="docutils literal notranslate"><span class="pre">name</span></code>, by including the following lines:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mooring</span><span class="p">(</span><span class="c1">#)= mooringClass(&#39;name&#39;);</span>
</pre></div>
</div>
<p>The mooring class (<code class="docutils literal notranslate"><span class="pre">mooringClass</span></code>) allows for different fidelity simulations of mooring systems.
Available mooring properties, default values, and functions can be found by typing <code class="docutils literal notranslate"><span class="pre">doc</span> <span class="pre">mooringClass</span></code> in the MATLAB command window, or opening the <cite>mooringClass.m</cite> file in <code class="docutils literal notranslate"><span class="pre">//WEC-Sim/source/objects</span></code> directory by typing <code class="docutils literal notranslate"><span class="pre">open</span> <span class="pre">mooringClass</span></code> in MATLAB Command Window.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about application of WEC-Sim’s mooring class, refer to <a class="reference external" href="http://wec-sim.github.io/WEC-Sim/advanced_features.html#mooring-moordyn">Mooring Features</a>.</p>
</div>
</div>
<div class="section" id="response-class">
<h3>Response Class<a class="headerlink" href="#response-class" title="Permalink to this headline">¶</a></h3>
<p>The response class is not initialized by the user.
Instead, it is created at the end of a WEC-Sim simulation.
It contains all the output time-series and methods to plot and interact with the results.
The available parameters are explained in the <a class="reference external" href="http://wec-sim.github.io/WEC-Sim/code_structure.html#output-structure">Output Structure</a> section.</p>
</div>
</div>
<div class="section" id="wec-sim-library">
<h2>WEC-Sim Library<a class="headerlink" href="#wec-sim-library" title="Permalink to this headline">¶</a></h2>
<p>In addition to the <code class="docutils literal notranslate"><span class="pre">wecSimInputFile.m</span></code>, a WEC-Sim simulation requires a simulink model (<code class="docutils literal notranslate"><span class="pre">*.slx</span></code>) that represents the WEC system components and connectivities.
Similar to how the input file uses the WEC-Sim classes, the Simulink model uses WEC-Sim library blocks.
There should be a one-to-one between the objects defined in the input file and the blocks used in the Simulink model.</p>
<p>The WEC-Sim library is divided into 5 different types of library blocks.
The user should be able to model their WEC device using the available WEC-Sim blocks (and possibly other Simulink/Simscape blocks).
The image below shows the WEC-Sim block grouping by type.</p>
<div class="figure align-default">
<a class="reference internal image-reference" href="_images/subLibs.PNG"><img alt="_images/subLibs.PNG" src="_images/subLibs.PNG" style="width: 400pt;" /></a>
</div>
<p>This section describes the five different library types and their general purpose.
The Body Elements library contains the Rigid Body block used to simulate the different bodies.
The Frames library contains the Global Reference Frame block necessary for every simulation.
The Constraints library contains blocks that are used to constrain the DOF of the bodies without including any additional forcing or resistance.
The PTOs library contains blocks used to both simulate a PTO system and restrict the body motion.
Both constraints and PTOs can be used to restrict the relative motion between multi-body systems.
The Mooring library contains blocks used to simulate mooring systems.</p>
<div class="section" id="body-elements">
<h3>Body Elements<a class="headerlink" href="#body-elements" title="Permalink to this headline">¶</a></h3>
<p>The Body Elements library shown below contains one block: the <code class="docutils literal notranslate"><span class="pre">Rigid</span> <span class="pre">Body</span></code> block.
It is used to represent rigid bodies.
At least one instance of this block is required in each model.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Rigid</span> <span class="pre">Body</span></code> block is used to represent a rigid body in the simulation. The user has to name the blocks <code class="docutils literal notranslate"><span class="pre">body(i)</span></code> (where i=1,2,…).
The mass properties, hydrodynamic data, geometry file, mooring, and other properties are then specified in the input file.
Within the body block, the wave radiation, wave excitation, hydrostatic restoring, viscous damping, and mooring forces are calculated.</p>
<div class="figure align-default">
<a class="reference internal image-reference" href="_images/bodiesLib.PNG"><img alt="_images/bodiesLib.PNG" src="_images/bodiesLib.PNG" style="width: 400pt;" /></a>
</div>
</div>
<div class="section" id="frames">
<h3>Frames<a class="headerlink" href="#frames" title="Permalink to this headline">¶</a></h3>
<p>The Frames library contains one block that is necessary in every model.
The <code class="docutils literal notranslate"><span class="pre">Global</span> <span class="pre">Reference</span> <span class="pre">Frame</span></code> block defines the global coordinates, solver configuration, seabed and free surface description, simulation time, and other global settings.
It can be useful to think of the Global Reference Frame as being the seabed when creating a model.
Every model requires one instance of the Global Reference Frame block.
The <code class="docutils literal notranslate"><span class="pre">Global</span> <span class="pre">Reference</span> <span class="pre">Frame</span></code> block uses the simulation class variable <cite>simu</cite> and the wave class variable <cite>waves</cite>, which must be defined in the input file.</p>
<div class="figure align-default">
<a class="reference internal image-reference" href="_images/framesLib.PNG"><img alt="_images/framesLib.PNG" src="_images/framesLib.PNG" style="width: 400pt;" /></a>
</div>
</div>
<div class="section" id="constraints">
<h3>Constraints<a class="headerlink" href="#constraints" title="Permalink to this headline">¶</a></h3>
<p>The blocks within the Constraints library are used to define the DOF of a specific body.
Constraint blocks define only the DOF, but do not otherwise apply any forcing or resistance to the body motion.
Each Constraint block has two connections: a base (B) and a follower (F).
The Constraints block restricts the motion of the block that is connected to the follower relative to the block that is connected to the base.
For a single body system, the base would be the <code class="docutils literal notranslate"><span class="pre">Global</span> <span class="pre">Reference</span> <span class="pre">Frame</span></code> and the follower is a <code class="docutils literal notranslate"><span class="pre">Rigid</span> <span class="pre">Body</span></code>.</p>
<div class="figure align-default">
<a class="reference internal image-reference" href="_images/constraintsLib.PNG"><img alt="_images/constraintsLib.PNG" src="_images/constraintsLib.PNG" style="width: 400pt;" /></a>
</div>
<p>A brief description of each constraint block is given below. More information can also be found by double clicking on the library block and viewing the Block Parameters box.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 8%" />
<col style="width: 62%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="3"><p>Constraint Library</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Block</p></td>
<td><p>DOFs</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Fixed</span></code></p></td>
<td><p>0</p></td>
<td><p>Rigid connection. Constrains all motion
between the base and follower</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Translational</span></code></p></td>
<td><p>1</p></td>
<td><p>Constrains the motion of the follower
relative to the base to be translation
along the constraint’s Z-axis</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Rotational</span></code></p></td>
<td><p>1</p></td>
<td><p>Constrains the motion of the follower
relative to the base to be rotation
about the constraint’s Y-axis</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Floating</span> <span class="pre">(3DOF)</span></code></p></td>
<td><p>3</p></td>
<td><p>Constrains the motion of the follower
relative to the base to planar motion
with translation along the constraint’s
X- and Z- and rotation about the Y- axis</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Floating</span> <span class="pre">(6DOF)</span></code></p></td>
<td><p>6</p></td>
<td><p>Allows for unconstrained motion of the
follower relative to the base</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="ptos">
<h3>PTOs<a class="headerlink" href="#ptos" title="Permalink to this headline">¶</a></h3>
<p>The PTOs library is used to simulate linear PTO systems and to restrict relative motion between multiple bodies or between one body and the seabed.
The PTO blocks can simulate simple PTO systems by applying a linear stiffness and damping to the connection.
Similar to the Constraint blocks, the PTO blocks have a base (B) and a follower (F).
Users must name each PTO block <code class="docutils literal notranslate"><span class="pre">pto(i)</span></code> (where i=1,2,…) and then define their properties in the input file.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Translational</span> <span class="pre">PTO</span></code> and <code class="docutils literal notranslate"><span class="pre">Rotational</span> <span class="pre">PTO</span></code> are identical to the <code class="docutils literal notranslate"><span class="pre">Translational</span></code> and <code class="docutils literal notranslate"><span class="pre">Rotational</span></code> constraints, but they allow for the application of linear damping and stiffness forces.
Additionally, there are two other variations of the Translational and Rotational PTOs.
The Actuation Force/Torque PTOs allow the user to define the PTO force/torque at each time-step and provide the position, velocity and acceleration of the PTO at each time-step.
The user can use the response information to calculate the PTO force/torque.
The Actuation Motion PTOs allow the user to define the motion of the PTO.
These can be useful to simulate forced-oscillation tests.</p>
<div class="figure align-default">
<a class="reference internal image-reference" href="_images/ptosLib.PNG"><img alt="_images/ptosLib.PNG" src="_images/ptosLib.PNG" style="width: 400pt;" /></a>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using the Actuation Force/Torque PTO or Actuation Motion PTO blocks, the loads and displacements are specified in the local (not global) coordinate system. This is true for both the sensed (measured) and actuated (commanded) loads and displacements.</p>
</div>
</div>
<div class="section" id="mooring">
<h3>Mooring<a class="headerlink" href="#mooring" title="Permalink to this headline">¶</a></h3>
<p>The mooring library is used to simulate mooring systems.
The <code class="docutils literal notranslate"><span class="pre">MooringMatrix</span></code> block applies linear damping and stiffness based on the motion of the follower relative to the base.
The <code class="docutils literal notranslate"><span class="pre">MoorDyn</span></code> block uses the compiled MoorDyn executables and a MoorDyn input file to simulate a realistic mooring system.
There can only be one MoorDyn block per Simulink model.
There are no restrictions on the number of MooringMatrix blocks.</p>
<div class="figure align-default">
<a class="reference internal image-reference" href="_images/mooringLib.PNG"><img alt="_images/mooringLib.PNG" src="_images/mooringLib.PNG" style="width: 400pt;" /></a>
</div>
</div>
<div class="section" id="simulink-simscape-blocks">
<h3>Simulink/Simscape Blocks<a class="headerlink" href="#simulink-simscape-blocks" title="Permalink to this headline">¶</a></h3>
<p>In some situations, users may want to use Simulink/Simscape blocks that are not included in the WEC-Sim Library to build their WEC model.</p>
</div>
</div>
<div class="section" id="id2">
<h2>Output Structure<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>After WEC-Sim is done running, there will be a new variable called <code class="docutils literal notranslate"><span class="pre">output</span></code> in your Matlab workspace.
The <code class="docutils literal notranslate"><span class="pre">output</span></code> variable is an instance of the <code class="docutils literal notranslate"><span class="pre">responseClass</span></code> class.
It contains all the relevant time-series results of the simulation.
The structure of the <code class="docutils literal notranslate"><span class="pre">output</span></code> variable is shown in the table below.
Time series are given as [(# of time-steps) x 6] arrays, where 6 is the degrees of freedom.
In addition to these time-series, the output for each object contains the object’s name or type and the time vector.</p>
<p>In addition to the responseClass <code class="docutils literal notranslate"><span class="pre">output</span></code> variable, the outputs can be written to ASCII files by using <code class="docutils literal notranslate"><span class="pre">simu.outputtxt</span> <span class="pre">=</span> <span class="pre">1;</span></code> in the input file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 33%" />
<col style="width: 49%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="3"><p>output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>wave</p></td>
<td><p>elevation</p></td>
<td><p>array: (# of time-steps) x 1</p></td>
</tr>
<tr class="row-odd"><td><p>bodies(i)</p></td>
<td><p>position</p>
<p>velocity</p>
<p>acceleration</p>
<p>forceTotal</p>
<p>forceExcitation</p>
<p>forceRadiationDamping</p>
<p>forceAddedMass</p>
<p>forceRestoring</p>
<p>forceMorrisonAndViscous</p>
<p>forceLinearDamping</p>
<p>cellPressures_time</p>
<p>cellPressures_hydrostatic</p>
<p>cellPressures_waveLinear</p>
<p>cellPressures_waveNonLinear</p>
</td>
<td><p>array: (# of time-steps) x 6</p>
<p>array: (# of time-steps) x 6</p>
<p>array: (# of time-steps) x 6</p>
<p>array: (# of time-steps) x 6</p>
<p>array: (# of time-steps) x 6</p>
<p>array: (# of time-steps) x 6</p>
<p>array: (# of time-steps) x 6</p>
<p>array: (# of time-steps) x 6</p>
<p>array: (# of time-steps) x 6</p>
<p>array: (# of time-steps) x 6</p>
<p>array: (# nlHydro time-steps) x (# cells)</p>
<p>array: (# nlHydro time-steps) x (# cells)</p>
<p>array: (# nlHydro time-steps) x (# cells)</p>
<p>array: (# nlHydro time-steps) x (# cells)</p>
</td>
</tr>
<tr class="row-even"><td><p>ptos(i)</p></td>
<td><p>position</p>
<p>velocity</p>
<p>acceleration</p>
<p>forceTotal</p>
<p>forceActuation</p>
<p>forceConstraint</p>
<p>forceInternalMechanics</p>
<p>powerInternalMechanics</p>
</td>
<td><p>array: (# of time-steps) x 6</p>
<p>array: (# of time-steps) x 6</p>
<p>array: (# of time-steps) x 6</p>
<p>array: (# of time-steps) x 6</p>
<p>array: (# of time-steps) x 6</p>
<p>array: (# of time-steps) x 6</p>
<p>array: (# of time-steps) x 6</p>
<p>array: (# of time-steps) x 6</p>
</td>
</tr>
<tr class="row-odd"><td><p>constraints(i)</p></td>
<td><p>position</p>
<p>velocity</p>
<p>acceleration</p>
<p>forceConstraint</p>
</td>
<td><p>array: (# of time-steps) x 6</p>
<p>array: (# of time-steps) x 6</p>
<p>array: (# of time-steps) x 6</p>
<p>array: (# of time-steps) x 6</p>
</td>
</tr>
<tr class="row-even"><td><p>mooring(i)</p></td>
<td><p>position</p>
<p>velocity</p>
<p>forceMooring</p>
</td>
<td><p>array: (# of time-steps) x 6</p>
<p>array: (# of time-steps) x 6</p>
<p>array: (# of time-steps) x 6</p>
</td>
</tr>
<tr class="row-odd"><td><p>moorDyn</p></td>
<td><p>Lines</p>
<p>Line# (for each line)</p>
</td>
<td><p>struct: outputs in the Line#.out file</p>
<p>struct: outputs in the Line#.out file</p>
</td>
</tr>
<tr class="row-even"><td><p>ptosim</p></td>
<td><p>See PTO-Sim section for
details</p></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="functions-external-codes">
<h2>Functions &amp; External Codes<a class="headerlink" href="#functions-external-codes" title="Permalink to this headline">¶</a></h2>
<p>While the bulk of the WEC-Sim code consists of the WEC-Sim classes and the WEC-Sim library, the source code also includes supporting functions and external codes.
These include third party Matlab functions to read <code class="docutils literal notranslate"><span class="pre">*.h5</span></code> and <code class="docutils literal notranslate"><span class="pre">*.stl</span></code> files, WEC-Sim Matlab functions to write <code class="docutils literal notranslate"><span class="pre">*.h5</span></code> files and run WEC-Sim in batch mode, MoorDyn compiled executables, python macros for ParaView visualization, and the PTO-Sim class and library.
Additionally, BEMIO can be used to create the hydrodynamic <code class="docutils literal notranslate"><span class="pre">*.h5</span></code> file required by WEC-Sim.
MoorDyn is an open source code that must be downloaded separately. Users may obtain, modify, and recompile the code as well as desired.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tutorials.html" class="btn btn-neutral float-right" title="Tutorials" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="theory.html" class="btn btn-neutral float-left" title="Theory" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, National Renewable Energy Laboratory and National Technology &amp; Engineering Solutions of Sandia, LLC (NTESS)

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>