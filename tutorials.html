

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-88158104-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tutorials &mdash; WEC-Sim  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Advanced Features" href="advanced_features.html" />
    <link rel="prev" title="Code Structure" href="code_structure.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> WEC-Sim
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="terminology.html">Terminology</a><ul>
<li class="toctree-l2"><a class="reference internal" href="terminology.html#variables">Variables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#matlab-requirements">MATLAB Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#download-wec-sim">Download WEC-Sim</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#option-1-clone-repository-from-github-recommended-for-users">Option 1. Clone Repository from GitHub (Recommended for Users)</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#option-2-fork-with-git-recommended-for-developers">Option 2. Fork with Git (Recommended for Developers)</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#option-3-static-code-download-not-recommended">Option 3. Static Code Download (Not Recommended)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#install-wec-sim">Install WEC-Sim</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#step-1-add-wec-sim-source-code-to-matlab-path">Step 1. Add WEC-Sim Source Code to MATLAB Path</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#step-2-add-wec-sim-library-to-simulink">Step 2. Add WEC-Sim Library to Simulink</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#step-3-test-the-installation">Step 3. Test the Installation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="overview.html#wec-sim-model-files">WEC-Sim Model Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="overview.html#hydrodynamic-data">Hydrodynamic Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="overview.html#geometry-file">Geometry File</a></li>
<li class="toctree-l3"><a class="reference internal" href="overview.html#simulink-model">Simulink Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="overview.html#input-file">Input File</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#running-wec-sim">Running WEC-Sim</a><ul>
<li class="toctree-l3"><a class="reference internal" href="overview.html#step-1-run-bemio">Step 1: Run BEMIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="overview.html#step-2-build-simulink-model">Step 2: Build Simulink Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="overview.html#step-3-write-wecsiminputfile-m">Step 3: Write wecSimInputFile.m</a></li>
<li class="toctree-l3"><a class="reference internal" href="overview.html#step-4-run-wec-sim">Step 4: Run WEC-Sim</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="theory.html">Theory</a><ul>
<li class="toctree-l2"><a class="reference internal" href="theory.html#coordinate-system">Coordinate System</a></li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#units">Units</a></li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#boundary-element-method-bem">Boundary Element Method (BEM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#time-domain-formulation">Time-Domain Formulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#numerical-methods">Numerical Methods</a><ul>
<li class="toctree-l3"><a class="reference internal" href="theory.html#ramp-function">Ramp Function</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#sinusoidal-steady-state-response">Sinusoidal Steady-State Response</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#convolution-integral-formulation">Convolution Integral Formulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#state-space">State Space</a><ul>
<li class="toctree-l4"><a class="reference internal" href="theory.html#calculation-of-k-r-from-state-space-matrices">Calculation of <img class="math" src="_images/math/823642569004dcf6ef16716b13ae373f63d9e1d5.png" alt="K_{r}"/> from State Space Matrices</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#realization-theory">Realization Theory</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#regular-waves">Regular Waves</a></li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#irregular-waves">Irregular Waves</a></li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#wave-spectra">Wave Spectra</a><ul>
<li class="toctree-l3"><a class="reference internal" href="theory.html#pierson-moskowitz-pm">Pierson–Moskowitz (PM)</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#bretschneider-bs">Bretschneider (BS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#jonswap-js">JONSWAP (JS)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#power-take-off-pto">Power Take-Off (PTO)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="theory.html#linear-pto">Linear PTO</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#hydraulic-pto">Hydraulic PTO</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#mechanical-pto">Mechanical PTO</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#mooring">Mooring</a><ul>
<li class="toctree-l3"><a class="reference internal" href="theory.html#mooring-matrix">Mooring Matrix</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#id24">MoorDyn</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#nonlinear-buoynancy-and-froude-krylov-wave-excitation">Nonlinear Buoynancy and Froude-Krylov Wave Excitation</a></li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#viscous-damping-and-morison-elements">Viscous Damping and Morison Elements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="theory.html#viscous-damping">Viscous Damping</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#morison-elements">Morison Elements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="code_structure.html">Code Structure</a><ul>
<li class="toctree-l2"><a class="reference internal" href="code_structure.html#wec-sim-source-code">WEC-Sim Source Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="code_structure.html#wec-sim-objects">WEC-Sim Objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="code_structure.html#simulation-class">Simulation Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="code_structure.html#wave-class">Wave Class</a><ul>
<li class="toctree-l4"><a class="reference internal" href="code_structure.html#nowave">noWave</a></li>
<li class="toctree-l4"><a class="reference internal" href="code_structure.html#nowavecic">noWaveCIC</a></li>
<li class="toctree-l4"><a class="reference internal" href="code_structure.html#regular">regular</a></li>
<li class="toctree-l4"><a class="reference internal" href="code_structure.html#regularcic">regularCIC</a></li>
<li class="toctree-l4"><a class="reference internal" href="code_structure.html#irregular">irregular</a></li>
<li class="toctree-l4"><a class="reference internal" href="code_structure.html#spectrumimport">spectrumImport</a></li>
<li class="toctree-l4"><a class="reference internal" href="code_structure.html#etaimport">etaImport</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="code_structure.html#body-class">Body Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="code_structure.html#constraint-class">Constraint Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="code_structure.html#pto-class">PTO Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="code_structure.html#mooring-class">Mooring Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="code_structure.html#response-class">Response Class</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="code_structure.html#wec-sim-library">WEC-Sim Library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="code_structure.html#body-elements">Body Elements</a></li>
<li class="toctree-l3"><a class="reference internal" href="code_structure.html#frames">Frames</a></li>
<li class="toctree-l3"><a class="reference internal" href="code_structure.html#constraints">Constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="code_structure.html#ptos">PTOs</a></li>
<li class="toctree-l3"><a class="reference internal" href="code_structure.html#mooring">Mooring</a></li>
<li class="toctree-l3"><a class="reference internal" href="code_structure.html#simulink-simscape-blocks">Simulink/Simscape Blocks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="code_structure.html#id2">Output Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="code_structure.html#functions-external-codes">Functions &amp; External Codes</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#two-body-point-absorber-rm3">Two-Body Point Absorber (RM3)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#device-geometry">Device Geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wec-sim-model-files">WEC-Sim Model Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rm3-tutorial">RM3 Tutorial</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#step-1-run-bemio">Step 1: Run BEMIO</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-2-build-simulink-model">Step 2: Build Simulink Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-3-write-wecsiminputfile-m">Step 3: Write wecSimInputFile.m</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-4-run-wec-sim">Step 4: Run WEC-Sim</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-5-post-processing">Step 5: Post-processing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#oscillating-surge-wec-oswec">Oscillating Surge WEC (OSWEC)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">Device Geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">WEC-Sim Model Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#oswec-tutorial">OSWEC Tutorial</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id5">Step 1: Run BEMIO</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">Step 2: Build Simulink Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">Step 3: Write wecSimInputFile.m</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">Step 4: Run WEC-Sim</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">Step 5: Post-processing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#wec-sim-examples">WEC-Sim Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#applications-repository">Applications Repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="advanced_features.html">Advanced Features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="advanced_features.html#bemio">BEMIO</a><ul>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#bemio-functions">BEMIO Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#bemio-hydro-data-structure">BEMIO <em>hydro</em> Data Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#writing-your-own-h5-file">Writing Your Own h5 File</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="advanced_features.html#simulation-features">Simulation Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#multiple-condition-runs-mcr">Multiple Condition Runs (MCR)</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#state-space-representation">State-Space Representation</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#time-step-features">Time-Step Features</a><ul>
<li class="toctree-l4"><a class="reference internal" href="advanced_features.html#fixed-time-step-ode4">Fixed Time-Step (ode4)</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced_features.html#variable-time-step-ode45">Variable Time-Step (ode45)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="advanced_features.html#wave-features">Wave Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#irregular-wave-binning">Irregular Wave Binning</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#wave-directionality">Wave Directionality</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#wave-directional-spreading">Wave Directional Spreading</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#irregular-waves-with-seeded-phase">Irregular Waves with Seeded Phase</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#wave-gauge-placement">Wave Gauge Placement</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="advanced_features.html#body-features">Body Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#body-mass-and-geometry-features">Body Mass and Geometry Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#nonlinear-buoyancy-and-froude-krylov-excitation">Nonlinear Buoyancy and Froude-Krylov Excitation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="advanced_features.html#nonlinear-settings">Nonlinear Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced_features.html#stl-file-generation">STL File Generation</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced_features.html#nonlinear-buoyancy-and-froude-krylov-wave-excitation-tutorial-heaving-ellipsoid">Nonlinear Buoyancy and Froude-Krylov Wave Excitation Tutorial - Heaving Ellipsoid</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#non-hydrodynamic-bodies">Non-Hydrodynamic Bodies</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#body-to-body-interactions">Body-To-Body Interactions</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#viscous-damping-and-morison-elements">Viscous Damping and Morison Elements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="advanced_features.html#viscous-damping">Viscous Damping</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced_features.html#morison-elements">Morison Elements</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="advanced_features.html#constraint-and-pto-features">Constraint and PTO Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#power-take-off-pto-sim">Power Take-Off/PTO-Sim</a><ul>
<li class="toctree-l4"><a class="reference internal" href="advanced_features.html#tutorial-rm3-with-pto-sim">Tutorial: RM3 with PTO-Sim</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced_features.html#tutorial-oswec-with-pto-sim">Tutorial: OSWEC with PTO-Sim</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced_features.html#other-pto-sim-tutorials">Other PTO-Sim Tutorials</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="advanced_features.html#mooring-features">Mooring Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#mooring-matrix">Mooring Matrix</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#moordyn">MoorDyn</a><ul>
<li class="toctree-l4"><a class="reference internal" href="advanced_features.html#tutorial-rm3-with-moordyn">Tutorial: RM3 with MoorDyn</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="advanced_features.html#visualization-paraview">Visualization/Paraview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#getting-started-installation">Getting Started - Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#setting-up-paraview-output">Setting Up Paraview Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#outputs-and-opening-in-paraview">Outputs and Opening in Paraview</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#basic-visualization-manipulation">Basic Visualization Manipulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_features.html#visualizing-non-linear-buoyancy-and-froude-krylov-wave-excitation">Visualizing Non-Linear Buoyancy and Froude-Krylov Wave Excitation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="advanced_features.html#decay-tests">Decay Tests</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="webinars.html">Webinars</a><ul>
<li class="toctree-l2"><a class="reference internal" href="webinars.html#online-training-course">Online Training Course</a><ul>
<li class="toctree-l3"><a class="reference internal" href="webinars.html#wec-sim-overview">WEC-Sim Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="webinars.html#theory-workflow">Theory &amp; Workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="webinars.html#wec-sim-code-structure">WEC-Sim Code Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="webinars.html#wave-implementation">Wave Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="webinars.html#body-implementation">Body Implementation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="webinars.html#advanced-features-webinars">Advanced Features Webinars</a><ul>
<li class="toctree-l3"><a class="reference internal" href="webinars.html#webinar-1-bemio-and-mcr">Webinar 1 - BEMIO and MCR</a></li>
<li class="toctree-l3"><a class="reference internal" href="webinars.html#webinar-2-nonlinear-buoyancy-and-froude-krylov-wave-excitation-non-hydro-and-b2b">Webinar 2 - Nonlinear Buoyancy and Froude-Krylov Wave Excitation, Non-Hydro and B2B</a></li>
<li class="toctree-l3"><a class="reference internal" href="webinars.html#webinar-3-pto-and-control">Webinar 3 - PTO and Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="webinars.html#webinar-4-mooring-and-visualization">Webinar 4 - Mooring and Visualization</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="acknowledgements.html">Acknowledgements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="acknowledgements.html#past-wec-sim-contributors">Past WEC-Sim Contributors</a></li>
<li class="toctree-l2"><a class="reference internal" href="acknowledgements.html#funding">Funding</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">Publications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="publications.html#news-articles">News Articles</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#current-release">Current Release</a><ul>
<li class="toctree-l3"><a class="reference internal" href="release_notes.html#id2">WEC-Sim v4.0</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#features-in-development">Features in Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#previous-releases">Previous Releases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="release_notes.html#id3">WEC-Sim v3.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes.html#id4">WEC-Sim v3.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes.html#id5">WEC-Sim v2.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes.html#id6">WEC-Sim v2.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes.html#id7">WEC-Sim v2.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes.html#id8">WEC-Sim v1.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes.html#id9">WEC-Sim v1.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes.html#id10">WEC-Sim v1.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes.html#id11">WEC-Sim v1.0</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Online Forum</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">WEC-Sim</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Tutorials</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/tutorials.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tutorials">
<span id="id1"></span><h1>Tutorials<a class="headerlink" href="#tutorials" title="Permalink to this headline">¶</a></h1>
<p>This section provides step-by-step instructions on how to run the WEC-Sim code using the provided Tutorials (located in the WEC-Sim <code class="docutils literal notranslate"><span class="pre">$Source/tutorials</span></code> directory).
Two WEC-Sim tutorials are provided: the Two-Body Point Absorber (RM3), and the Oscillating Surge WEC (OSWEC).
For information about the implementation of the WEC-Sim code refer to the <a class="reference external" href="http://wec-sim.github.io/WEC-Sim/code_structure.html">Code Structure</a> section.
For information about additional WEC-Sim features, refer to the <a class="reference external" href="http://wec-sim.github.io/WEC-Sim/advanced_features.html">Advanced Features</a> section.</p>
<div class="section" id="two-body-point-absorber-rm3">
<h2>Two-Body Point Absorber (RM3)<a class="headerlink" href="#two-body-point-absorber-rm3" title="Permalink to this headline">¶</a></h2>
<p>This section describes the application of the WEC-Sim code to model the Reference Model 3 (RM3) two-body point absorber WEC.
This example application is provided in the WEC-Sim code release in the <code class="docutils literal notranslate"><span class="pre">$Source/tutorials</span></code> directory.</p>
<div class="section" id="device-geometry">
<h3>Device Geometry<a class="headerlink" href="#device-geometry" title="Permalink to this headline">¶</a></h3>
<p>The RM3 two-body point absorber WEC has been characterized both numerically and experimentally as a result of the DOE-funded <a class="reference external" href="http://energy.sandia.gov/rmp">Reference Model Project</a>.
The RM3 is a two-body point absorber consisting of a float and a reaction plate. Full-scale dimensions of the RM3 and its mass properties are shown below.</p>
<div class="figure align-default">
<a class="reference internal image-reference" href="_images/RM3_Geom.png"><img alt="_images/RM3_Geom.png" src="_images/RM3_Geom.png" style="width: 400pt;" /></a>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 20%" />
<col style="width: 22%" />
<col style="width: 22%" />
<col style="width: 22%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="5"><p>Float Full Scale Properties</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>CG (m)</p></td>
<td rowspan="2"><p>Mass
(tonne)</p></td>
<td colspan="3" rowspan="2"><p>Moment of
Inertia (kg-m^2)</p></td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td><p>0</p></td>
<td rowspan="3"><p>727.01</p></td>
<td><p>20,907,301</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>21,306,091</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>-0.72</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>37,085,481</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 20%" />
<col style="width: 22%" />
<col style="width: 22%" />
<col style="width: 22%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="5"><p>Plate Full Scale Properties</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>CG (m)</p></td>
<td rowspan="2"><p>Mass
(tonne)</p></td>
<td colspan="3" rowspan="2"><p>Moment of
Inertia (kg-m^2)</p></td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td><p>0</p></td>
<td rowspan="3"><p>878.30</p></td>
<td><p>94,419,615</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>94,407,091</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>-21.29</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>28,542,225</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="wec-sim-model-files">
<h3>WEC-Sim Model Files<a class="headerlink" href="#wec-sim-model-files" title="Permalink to this headline">¶</a></h3>
<p>Below is an overview of the files required to run the RM3 simulation in WEC-Sim. For the RM3 WEC, there are two corresponding geometry files: <code class="docutils literal notranslate"><span class="pre">float.stl</span></code> and <code class="docutils literal notranslate"><span class="pre">plate.stl</span></code>. In addition to the required files listed below, users may supply a <code class="docutils literal notranslate"><span class="pre">userDefinedFunctions.m</span></code> file for post-processing results once the WEC-Sim run is complete.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 38%" />
<col style="width: 38%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>File Type</strong></p></td>
<td><p><strong>File Name</strong></p></td>
<td><p><strong>Directory</strong></p></td>
</tr>
<tr class="row-even"><td><p>Input File</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">wecSimInputFile.m</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/tutorials/rm3/</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Simulink Model</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">rm3.slx</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/tutorials/rm3/</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Hydrodynamic Data</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">rm3.h5</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/tutorials/rm3/hydroData/</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Geometry Files</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float.stl</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">plate.stl</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/tutorials/rm3/geometry/</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="rm3-tutorial">
<h3>RM3 Tutorial<a class="headerlink" href="#rm3-tutorial" title="Permalink to this headline">¶</a></h3>
<div class="section" id="step-1-run-bemio">
<h4>Step 1: Run BEMIO<a class="headerlink" href="#step-1-run-bemio" title="Permalink to this headline">¶</a></h4>
<p>Hydrodynamic data for each RM3 body must be parsed into a HDF5 file using the <a class="reference external" href="http://wec-sim.github.io/WEC-Sim/advanced_features.html#bemio">BEMIO</a> hydrodynamic data format. The RM3 HDF5 file (<code class="docutils literal notranslate"><span class="pre">rm3.h5</span></code>) was created based on a WAMIT run of the RM3 geometry. The RM3 WAMIT <code class="docutils literal notranslate"><span class="pre">rm3.out</span></code> file and the BEMIO <code class="docutils literal notranslate"><span class="pre">bemio.m</span></code> script were used to generate the HDF5 are included in the <code class="docutils literal notranslate"><span class="pre">/hydroData</span></code> directory.</p>
</div>
<div class="section" id="step-2-build-simulink-model">
<h4>Step 2: Build Simulink Model<a class="headerlink" href="#step-2-build-simulink-model" title="Permalink to this headline">¶</a></h4>
<p>The WEC-Sim Simulink model is created by dragging and dropping blocks from the <em>WEC-Sim Library</em> into the <code class="docutils literal notranslate"><span class="pre">rm3.slx</span></code> file.</p>
<ul class="simple">
<li><p>Place two <strong>Rigid Body</strong> blocks from the <em>WEC-Sim Library</em> in the Simulink model file, one for each RM3 rigid body.</p></li>
<li><p>Double click on the <strong>Rigid Body</strong> block, and rename each instance of the body. The first body must be called <code class="docutils literal notranslate"><span class="pre">body(1)</span></code>, and the second body should be called <code class="docutils literal notranslate"><span class="pre">body(2)</span></code>.</p></li>
</ul>
<div class="figure align-default">
<a class="reference internal image-reference" href="_images/RM3_WECSim_Body.jpg"><img alt="_images/RM3_WECSim_Body.jpg" src="_images/RM3_WECSim_Body.jpg" style="width: 600pt;" /></a>
</div>
<ul class="simple">
<li><p>Place the <strong>Global Reference Frame</strong> from the <em>WEC-Sim Library</em> in the Simulink model file. The global reference frame acts as the seabed.</p></li>
</ul>
<div class="figure align-default">
<a class="reference internal image-reference" href="_images/RM3_WECSim_GlobalRef.jpg"><img alt="_images/RM3_WECSim_GlobalRef.jpg" src="_images/RM3_WECSim_GlobalRef.jpg" style="width: 600pt;" /></a>
</div>
<ul class="simple">
<li><p>Place the <strong>Floating (3DOF)</strong> block to connect the plate to the seabed. This constrains the plate to move in 3DOF relative to the <strong>Global Reference Frame</strong>.</p></li>
<li><p>Place the <strong>Translational PTO</strong> block to connect the float to the spar. This constrains the float to move in heave relative to the spar, and allows definition of PTO damping.</p></li>
</ul>
<div class="figure align-default">
<a class="reference internal image-reference" href="_images/RM3_WECSim.JPG"><img alt="_images/RM3_WECSim.JPG" src="_images/RM3_WECSim.JPG" style="width: 600pt;" /></a>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When setting up a WEC-Sim model, it is very important to note the base and follower frames.</p>
</div>
</div>
<div class="section" id="step-3-write-wecsiminputfile-m">
<h4>Step 3: Write wecSimInputFile.m<a class="headerlink" href="#step-3-write-wecsiminputfile-m" title="Permalink to this headline">¶</a></h4>
<p>The WEC-Sim input file defines simulation parameters, body properties, joints, and mooring for the RM3 model. The <code class="docutils literal notranslate"><span class="pre">wecSimInputFile.m</span></code> for the RM3 is provided in the RM3 case directory, and shown below.</p>
<p><em>wecSimInputFile for RM3</em></p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="c">%% Simulation Data</span>
<span class="n">simu</span> <span class="p">=</span> <span class="n">simulationClass</span><span class="p">();</span>               <span class="c">% Initialize simulationClass</span>
<span class="n">simu</span><span class="p">.</span><span class="n">simMechanicsFile</span> <span class="p">=</span> <span class="s">&#39;RM3.slx&#39;</span><span class="p">;</span>      <span class="c">% Specify Simulink Model File</span>
<span class="n">simu</span><span class="p">.</span><span class="n">startTime</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span>                     <span class="c">% Simulation Start Time [s]</span>
<span class="n">simu</span><span class="p">.</span><span class="n">rampTime</span> <span class="p">=</span> <span class="mi">100</span><span class="p">;</span>                   	<span class="c">% Wave Ramp Time [s]</span>
<span class="n">simu</span><span class="p">.</span><span class="n">endTime</span><span class="p">=</span><span class="mi">400</span><span class="p">;</span>                       <span class="c">% Simulation End Time [s]</span>
<span class="n">simu</span><span class="p">.</span><span class="n">dt</span> <span class="p">=</span> <span class="mf">0.1</span><span class="p">;</span>                          <span class="c">% Simulation time-step [s]</span>

<span class="c">%% Wave Information  </span>
<span class="c">% Regular Waves with convolution integtral calculation</span>
<span class="n">waves</span> <span class="p">=</span> <span class="n">waveClass</span><span class="p">(</span><span class="s">&#39;regularCIC&#39;</span><span class="p">);</span>        <span class="c">% Initialize waveClass and Specify Type                               </span>
<span class="n">waves</span><span class="p">.</span><span class="n">H</span> <span class="p">=</span> <span class="mf">2.5</span><span class="p">;</span>                          <span class="c">% Wave Height [m]</span>
<span class="n">waves</span><span class="p">.</span><span class="n">T</span> <span class="p">=</span> <span class="mi">8</span><span class="p">;</span>                            <span class="c">% Wave Period [s]</span>

<span class="c">%% Body Data</span>
<span class="c">% Float</span>
<span class="n">body</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">=</span> <span class="n">bodyClass</span><span class="p">(</span><span class="s">&#39;hydroData/rm3.h5&#39;</span><span class="p">);</span>        <span class="c">% Initialize bodyClass for Float and Specify *.h5 data </span>
<span class="n">body</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">geometryFile</span> <span class="p">=</span> <span class="s">&#39;geometry/float.stl&#39;</span><span class="p">;</span>    <span class="c">% Geometry File</span>
<span class="n">body</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">mass</span> <span class="p">=</span> <span class="s">&#39;equilibrium&#39;</span><span class="p">;</span>                   <span class="c">% Displaced Water Mass [kg]</span>
<span class="n">body</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">momOfInertia</span> <span class="p">=</span> <span class="p">[</span><span class="mi">20907301</span> <span class="mf">21306090.66</span> <span class="mf">37085481.11</span><span class="p">];</span>  <span class="c">% Moment of Inertia [kg*m^2]     </span>

<span class="c">% Spar/Plate</span>
<span class="n">body</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">=</span> <span class="n">bodyClass</span><span class="p">(</span><span class="s">&#39;hydroData/rm3.h5&#39;</span><span class="p">);</span>        <span class="c">% Initialize bodyClass for Spar and Specify *.h5 data </span>
<span class="n">body</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="n">geometryFile</span> <span class="p">=</span> <span class="s">&#39;geometry/plate.stl&#39;</span><span class="p">;</span>    <span class="c">% Geometry File</span>
<span class="n">body</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="n">mass</span> <span class="p">=</span> <span class="s">&#39;equilibrium&#39;</span><span class="p">;</span>                   <span class="c">% Displaced Water Mass [kg]</span>
<span class="n">body</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="n">momOfInertia</span> <span class="p">=</span> <span class="p">[</span><span class="mf">94419614.57</span> <span class="mf">94407091.24</span> <span class="mf">28542224.82</span><span class="p">];</span> <span class="c">% Moment of Inertia [kg*m^2]</span>

<span class="c">%% PTO and Constraint Parameters</span>
<span class="c">% Floating (3DOF) Joint</span>
<span class="n">constraint</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">=</span> <span class="n">constraintClass</span><span class="p">(</span><span class="s">&#39;Constraint1&#39;</span><span class="p">);</span> <span class="c">% Initialize constraintClass for Constraint1</span>
<span class="n">constraint</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">loc</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">];</span>                    <span class="c">% Constraint Location [m]</span>

<span class="c">% Translational PTO</span>
<span class="n">pto</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">=</span> <span class="n">ptoClass</span><span class="p">(</span><span class="s">&#39;PTO1&#39;</span><span class="p">);</span>                      <span class="c">% Initialize ptoClass for PTO1</span>
<span class="n">pto</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">k</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span>                                   <span class="c">% PTO Stiffness [N/m]</span>
<span class="n">pto</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">c</span> <span class="p">=</span> <span class="mi">1200000</span><span class="p">;</span>                             <span class="c">% PTO Damping [N/(m/s)]</span>
<span class="n">pto</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">loc</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">];</span>                           <span class="c">% PTO Location [m]</span>
</pre></div>
</div>
</div>
<div class="section" id="step-4-run-wec-sim">
<h4>Step 4: Run WEC-Sim<a class="headerlink" href="#step-4-run-wec-sim" title="Permalink to this headline">¶</a></h4>
<p>To execute the WEC-Sim code for the RM3 tutorial, type <code class="docutils literal notranslate"><span class="pre">wecSim</span></code> into the MATLAB Command Window. Below is a figure showing the final RM3 Simulink model and the WEC-Sim GUI during the simulation. For more information on using WEC-Sim to model the RM3 device, refer to <a class="reference internal" href="#ruehl-preliminary-2014" id="id2">[1]</a>.</p>
<div class="figure align-default">
<a class="reference internal image-reference" href="_images/RM3_WECSim_GUI.JPG"><img alt="_images/RM3_WECSim_GUI.JPG" src="_images/RM3_WECSim_GUI.JPG" style="width: 600pt;" /></a>
</div>
</div>
<div class="section" id="step-5-post-processing">
<h4>Step 5: Post-processing<a class="headerlink" href="#step-5-post-processing" title="Permalink to this headline">¶</a></h4>
<p>The RM3 tutorial includes a <code class="docutils literal notranslate"><span class="pre">userDefinedFunctions.m</span></code> which plots RM3 forces and responses. This file can be modified by users for post-processing. Additionally, once the WEC-Sim run is complete, the WEC-Sim results are saved to the <strong>output</strong> variable in the MATLAB workspace.</p>
</div>
</div>
</div>
<div class="section" id="oscillating-surge-wec-oswec">
<h2>Oscillating Surge WEC (OSWEC)<a class="headerlink" href="#oscillating-surge-wec-oswec" title="Permalink to this headline">¶</a></h2>
<p>This section describes the application of the WEC-Sim code to model the Oscillating Surge WEC (OSWEC).
This example application is provided in the WEC-Sim code release in the <code class="docutils literal notranslate"><span class="pre">$Source/tutorials</span></code> directory.</p>
<div class="section" id="id3">
<h3>Device Geometry<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>The OSWEC was selected because its design is fundamentally different from the RM3. This is critical because WECs span an extensive design space, and it is important to model devices in WEC-Sim that operate under different principles.  The OSWEC is fixed to the ground and has a flap that is connected through a hinge to the base that restricts the flap in order to pitch about the hinge. The full-scale dimensions of the OSWEC and the mass properties are shown in the figure and table below.</p>
<div class="figure align-default">
<a class="reference internal image-reference" href="_images/OSWEC_Geom.png"><img alt="_images/OSWEC_Geom.png" src="_images/OSWEC_Geom.png" style="width: 400pt;" /></a>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 33%" />
<col style="width: 44%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="3"><p>Flap Full Scale Properties</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>CG (m)</p></td>
<td rowspan="2"><p>Mass (kg)</p></td>
<td rowspan="2"><p>Pitch Moment
of Inertia
(kg-m^2)</p></td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td><p>0</p></td>
<td rowspan="3"><p>127,000</p></td>
<td rowspan="3"><p>1,850,000</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>-3.9</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id4">
<h3>WEC-Sim Model Files<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Below is an overview of the files required to run the OSWEC simulation in WEC-Sim. For the OSWEC, there are two corresponding geometry files: <code class="docutils literal notranslate"><span class="pre">flap.stl</span></code> and <code class="docutils literal notranslate"><span class="pre">base.stl</span></code>. In addition to the required files listed below, users may supply a <code class="docutils literal notranslate"><span class="pre">userDefinedFunctions.m</span></code> file for post-processing results once the WEC-Sim run is complete.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 36%" />
<col style="width: 40%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>File Type</strong></p></td>
<td><p><strong>File Name</strong></p></td>
<td><p><strong>Directory</strong></p></td>
</tr>
<tr class="row-even"><td><p>Input File</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">wecSimInputFile.m</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/tutorials/oswec/</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Simulink Model</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">oswec.slx</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/tutorials/oswec/</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Hydrodynamic Data</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">oswec.h5</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/tutorials/oswec/hydroData/</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Geometry Files</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flap.stl</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">base.stl</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/tutorials/oswec/geometry/</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="oswec-tutorial">
<h3>OSWEC Tutorial<a class="headerlink" href="#oswec-tutorial" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id5">
<h4>Step 1: Run BEMIO<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<p>Hydrodynamic data for each OSWEC body must be parsed into a HDF5 file using the <a class="reference external" href="http://wec-sim.github.io/WEC-Sim/advanced_features.html#bemio">BEMIO</a> hydrodynamic data format. The OSWEC HDF5 file (<code class="docutils literal notranslate"><span class="pre">oswec.h5</span></code>) was created based on a WAMIT run of the OSWEC geometry. The OSWEC WAMIT <code class="docutils literal notranslate"><span class="pre">oswec.out</span></code> file and the BEMIO <code class="docutils literal notranslate"><span class="pre">bemio.m</span></code> script used to generate the HDF5 are included in the <code class="docutils literal notranslate"><span class="pre">/hydroData</span></code> directory.</p>
</div>
<div class="section" id="id7">
<h4>Step 2: Build Simulink Model<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<p>The WEC-Sim Simulink model is created by dragging and dropping blocks from the <em>WEC-Sim Library</em> into the <code class="docutils literal notranslate"><span class="pre">oswec.slx</span></code> file.</p>
<ul class="simple">
<li><p>Place two <strong>Rigid Body</strong> blocks from the <em>WEC-Sim Library</em> in the Simulink model file, one for each OSWEC rigid body.</p></li>
<li><p>Double click on the <strong>Rigid Body</strong> block, and rename each instance of the body. The first body must be called <code class="docutils literal notranslate"><span class="pre">body(1)</span></code>, and the second body should be called <code class="docutils literal notranslate"><span class="pre">body(2)</span></code>.</p></li>
</ul>
<div class="figure align-default">
<a class="reference internal image-reference" href="_images/OSWEC_WECSim_Body.jpg"><img alt="_images/OSWEC_WECSim_Body.jpg" src="_images/OSWEC_WECSim_Body.jpg" style="width: 600pt;" /></a>
</div>
<ul class="simple">
<li><p>Place the <strong>Global Reference Frame</strong> from the <em>WEC-Sim Library</em> in the Simulink model file. The global reference frame acts as the seabed.</p></li>
</ul>
<div class="figure align-default">
<a class="reference internal image-reference" href="_images/OSWEC_WECSim_GlobalRef.jpg"><img alt="_images/OSWEC_WECSim_GlobalRef.jpg" src="_images/OSWEC_WECSim_GlobalRef.jpg" style="width: 600pt;" /></a>
</div>
<ul class="simple">
<li><p>Place the <strong>Fixed</strong> block to connect the base to the seabed. This constrains the base to be fixed relative to the <strong>Global Reference Frame</strong>.</p></li>
<li><p>Place a <strong>Rotational PTO</strong> block to connect the base to the flap. This constrains the flap to move in pitch relative to the base, and allows for the definition of PTO damping.</p></li>
</ul>
<div class="figure align-default">
<a class="reference internal image-reference" href="_images/OSWEC_WECSim.JPG"><img alt="_images/OSWEC_WECSim.JPG" src="_images/OSWEC_WECSim.JPG" style="width: 600pt;" /></a>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When setting up a WEC-Sim model, it is very important to note the base and follower frames.</p>
</div>
</div>
<div class="section" id="id8">
<h4>Step 3: Write wecSimInputFile.m<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<p>The WEC-Sim input file defines simulation parameters, body properties, joints, and mooring for the OSWEC model. The <code class="docutils literal notranslate"><span class="pre">wecSimInputFile.m</span></code> for the OSWEC is provided in the OSWEC case directory, and shown below.</p>
<p><em>wecSimInputFile.m for OSWEC</em></p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="c">%% Simulation Data</span>
<span class="n">simu</span> <span class="p">=</span> <span class="n">simulationClass</span><span class="p">();</span>               <span class="c">% Initialize simulationClass</span>
<span class="n">simu</span><span class="p">.</span><span class="n">simMechanicsFile</span> <span class="p">=</span> <span class="s">&#39;OSWEC.slx&#39;</span><span class="p">;</span>    <span class="c">% Specify Simulink Model File</span>
<span class="n">simu</span><span class="p">.</span><span class="n">startTime</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span>                     <span class="c">% Simulation Start Time [s]</span>
<span class="n">simu</span><span class="p">.</span><span class="n">rampTime</span> <span class="p">=</span> <span class="mi">100</span><span class="p">;</span>                    <span class="c">% Wave Ramp Time [s]</span>
<span class="n">simu</span><span class="p">.</span><span class="n">endTime</span><span class="p">=</span><span class="mi">400</span><span class="p">;</span>                       <span class="c">% Simulation End Time [s]   </span>
<span class="n">simu</span><span class="p">.</span><span class="n">dt</span> <span class="p">=</span> <span class="mf">0.01</span><span class="p">;</span>                         <span class="c">% Simulation Time-Step [s]</span>
<span class="n">simu</span><span class="p">.</span><span class="n">CITime</span> <span class="p">=</span> <span class="mi">30</span><span class="p">;</span>                       <span class="c">% Specify CI Time [s]</span>

<span class="c">%% Wave Information</span>
<span class="c">% Regular Waves </span>
<span class="n">waves</span> <span class="p">=</span> <span class="n">waveClass</span><span class="p">(</span><span class="s">&#39;regular&#39;</span><span class="p">);</span>           <span class="c">% Initialize waveClass and Specify Type                                 </span>
<span class="n">waves</span><span class="p">.</span><span class="n">H</span> <span class="p">=</span> <span class="mf">2.5</span><span class="p">;</span>                          <span class="c">% Wave Height [m]</span>
<span class="n">waves</span><span class="p">.</span><span class="n">T</span> <span class="p">=</span> <span class="mi">8</span><span class="p">;</span>                            <span class="c">% Wave Period [s]</span>

<span class="c">%% Body Data</span>
<span class="c">% Flap</span>
<span class="n">body</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">=</span> <span class="n">bodyClass</span><span class="p">(</span><span class="s">&#39;hydroData/oswec.h5&#39;</span><span class="p">);</span>      <span class="c">% Initialize bodyClass for Flap and Specify *.h5 data </span>
<span class="n">body</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">geometryFile</span> <span class="p">=</span> <span class="s">&#39;geometry/flap.stl&#39;</span><span class="p">;</span>     <span class="c">% Geometry File</span>
<span class="n">body</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">mass</span> <span class="p">=</span> <span class="mi">127000</span><span class="p">;</span>                          <span class="c">% User-Defined mass [kg]</span>
<span class="n">body</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">momOfInertia</span> <span class="p">=</span> <span class="p">[</span><span class="mf">1.85e6</span> <span class="mf">1.85e6</span> <span class="mf">1.85e6</span><span class="p">];</span>  <span class="c">% Moment of Inertia [kg-m^2]</span>

<span class="c">% Base</span>
<span class="n">body</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">=</span> <span class="n">bodyClass</span><span class="p">(</span><span class="s">&#39;hydroData/oswec.h5&#39;</span><span class="p">);</span>      <span class="c">% Initialize bodyClass for Base</span>
<span class="n">body</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="n">geometryFile</span> <span class="p">=</span> <span class="s">&#39;geometry/base.stl&#39;</span><span class="p">;</span>     <span class="c">% Geometry File</span>
<span class="n">body</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="n">mass</span> <span class="p">=</span> <span class="s">&#39;fixed&#39;</span><span class="p">;</span>                         <span class="c">% Creates Fixed Body</span>

<span class="c">%% PTO and Constraint Parameters</span>
<span class="c">% Fixed</span>
<span class="n">constraint</span><span class="p">(</span><span class="mi">1</span><span class="p">)=</span> <span class="n">constraintClass</span><span class="p">(</span><span class="s">&#39;Constraint1&#39;</span><span class="p">);</span>  <span class="c">% Initialize constraintClass for Constraint1</span>
<span class="n">constraint</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">loc</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span> <span class="mi">0</span> <span class="o">-</span><span class="mi">10</span><span class="p">];</span>                  <span class="c">% Constraint Location [m]</span>

<span class="c">% Rotational PTO</span>
<span class="n">pto</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">=</span> <span class="n">ptoClass</span><span class="p">(</span><span class="s">&#39;PTO1&#39;</span><span class="p">);</span>                      <span class="c">% Initialize ptoClass for PTO1</span>
<span class="n">pto</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">k</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span>                                   <span class="c">% PTO Stiffness [Nm/rad]</span>
<span class="n">pto</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">c</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span>                                   <span class="c">% PTO Damping [Nsm/rad]</span>
<span class="n">pto</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">loc</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span> <span class="mi">0</span> <span class="o">-</span><span class="mf">8.9</span><span class="p">];</span>                        <span class="c">% PTO Location [m]</span>
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h4>Step 4: Run WEC-Sim<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<p>To execute the WEC-Sim code for the OSWEC tutorial, type <code class="docutils literal notranslate"><span class="pre">wecSim</span></code> into the MATLAB Command Window. Below is a figure showing the final OSWEC Simulink model and the WEC-Sim GUI during the simulation. For more information on using WEC-Sim to model the OSWEC device, refer to <a class="reference internal" href="#y-yu-development-2014" id="id10">[2]</a><a class="reference internal" href="#y-yu-design-2014" id="id11">[3]</a>.</p>
<div class="figure align-default">
<a class="reference internal image-reference" href="_images/OSWEC_WECSim_GUI.jpg"><img alt="_images/OSWEC_WECSim_GUI.jpg" src="_images/OSWEC_WECSim_GUI.jpg" style="width: 600pt;" /></a>
</div>
</div>
<div class="section" id="id12">
<h4>Step 5: Post-processing<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h4>
<p>The OSWEC tutorial includes a <code class="docutils literal notranslate"><span class="pre">userDefinedFunctions.m</span></code> which plots OSWEC forces and responses. This file can be modified by users for post-processing. Additionally, once the WEC-Sim run is complete, the WEC-Sim results are saved to the <strong>output</strong> variable in the MATLAB workspace.</p>
</div>
</div>
</div>
<div class="section" id="wec-sim-examples">
<h2>WEC-Sim Examples<a class="headerlink" href="#wec-sim-examples" title="Permalink to this headline">¶</a></h2>
<p>Working examples of using WEC-Sim to model the RM3 and OSWEC are provided in the <code class="docutils literal notranslate"><span class="pre">$SOURCE/examples/</span></code> directory.
For each example the <code class="docutils literal notranslate"><span class="pre">wecSimInputFile.m</span></code> provided includes examples of how to run different wave cases:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">noWaveCIC</span></code> - no wave with convolution integral calculation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">regularCIC</span></code> - regular waves with convolution integral calculation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">irregular</span></code> - irregular waves using a Pierson-Moskowitz spectrum with convolution integral calculation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">irregular</span></code> - irregular waves using a Bretschneider Spectrum with state space calculation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">spectrumImport</span></code> - irregular waves using a user-defined spectrum</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">etaImport</span></code> - user-defined time-series</p></li>
</ul>
</div>
<div class="section" id="applications-repository">
<h2>Applications Repository<a class="headerlink" href="#applications-repository" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="https://github.com/WEC-Sim/WEC-Sim_Applications">WEC-Sim Applications</a> repository contains applications of the WEC-Sim code, including tutorials by the WEC-Sim team as well as user-shared examples. The WEC-Sim Applications repository is included as a <a class="reference external" href="https://git-scm.com/book/en/v2/Git-Tools-Submodules">submodule</a> of the WEC-Sim repository.</p>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p id="bibtex-bibliography-tutorials-0"><dl class="citation">
<dt class="label" id="ruehl-preliminary-2014"><span class="brackets"><a class="fn-backref" href="#id2">1</a></span></dt>
<dd><p>K. Ruehl, C. Michelen, S. Kanner, M. Lawson, and Y. Yu. Preliminary Verification and Validation of WEC-Sim, an Open-Source Wave Energy Converter Design Tool. In <em>Proceedings of OMAE 2014</em>. San Francisco, CA, 2014.</p>
</dd>
<dt class="label" id="y-yu-development-2014"><span class="brackets"><a class="fn-backref" href="#id10">2</a></span></dt>
<dd><p>Y. Yu, M. Lawson, K. Ruehl, and C. Michelen. Development and Demonstration of the WEC-Sim Wave Energy Converter Simulation Tool. In <em>Proceedings of the 2nd Marine Energy Technology Symposium</em>. Seattle, WA, USA, 2014.</p>
</dd>
<dt class="label" id="y-yu-design-2014"><span class="brackets"><a class="fn-backref" href="#id11">3</a></span></dt>
<dd><p>Y. Yu, Y. Li, K. Hallett, and C. Hotimsky. Design and Analysis for a Floating Oscillating Surge Wave Energy Converter. In <em>Proceedings of OMAE 2014</em>. San Francisco, CA, 2014.</p>
</dd>
</dl>
</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="advanced_features.html" class="btn btn-neutral float-right" title="Advanced Features" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="code_structure.html" class="btn btn-neutral float-left" title="Code Structure" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, National Renewable Energy Laboratory and National Technology &amp; Engineering Solutions of Sandia, LLC (NTESS)

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>